<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.8" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.26" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="alternate" hreflang="zh-cn" href="https://blog.shabbywu.cn/posts/2021/08/12/how-to-run-container-%E6%B5%85%E8%B0%88%E4%BB%8E%E9%95%9C%E5%83%8F%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%BB%86%E8%8A%82.html"><meta property="og:url" content="https://blog.shabbywu.cn/en/posts/2021/08/12/how-to-run-container-%E6%B5%85%E8%B0%88%E4%BB%8E%E9%95%9C%E5%83%8F%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%BB%86%E8%8A%82.html"><meta property="og:site_name" content="Personal technical article sharing"><meta property="og:title" content="How To Run Container - Discussion on the implementation details of creating a container from an image"><meta property="og:description" content="Preface We are now in the era of containerization, where hardly anyone in development, testing, or operations would be unfamiliar with or unable to use Docker. Using Docker is a..."><meta property="og:type" content="article"><meta property="og:image" content="https://blog.shabbywu.cn/img/é•œåƒå±‚åªè¯»æ ·ä¾‹.png"><meta property="og:locale" content="en-US"><meta property="og:locale:alternate" content="zh-CN"><meta property="og:updated_time" content="2024-03-10T11:33:17.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="How To Run Container - Discussion on the implementation details of creating a container from an image"><meta property="article:author" content="shabbywu"><meta property="article:tag" content="docker"><meta property="article:tag" content="container"><meta property="article:published_time" content="2021-08-12T00:00:00.000Z"><meta property="article:modified_time" content="2024-03-10T11:33:17.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"How To Run Container - Discussion on the implementation details of creating a container from an image","image":["https://blog.shabbywu.cn/img/é•œåƒå±‚åªè¯»æ ·ä¾‹.png","https://blog.shabbywu.cn/img/å®¹å™¨å¯è¯»å±‚.jpg"],"datePublished":"2021-08-12T00:00:00.000Z","dateModified":"2024-03-10T11:33:17.000Z","author":[{"@type":"Person","name":"shabbywu","url":"https://github.com/shabbywu"}]}</script><link rel="alternate" type="application/atom+xml" href="https://blog.shabbywu.cn/en/atom.xml" title="Personal technical article sharing Atom Feed"><link rel="alternate" type="application/json" href="https://blog.shabbywu.cn/en/feed.json" title="Personal technical article sharing JSON Feed"><link rel="alternate" type="application/rss+xml" href="https://blog.shabbywu.cn/en/rss.xml" title="Personal technical article sharing RSS Feed"><link rel="icon" href="/img/avatar.png"><title>How To Run Container - Discussion on the implementation details of creating a container from an image | Personal technical article sharing</title><meta name="description" content="Preface We are now in the era of containerization, where hardly anyone in development, testing, or operations would be unfamiliar with or unable to use Docker. Using Docker is a...">
    <link rel="preload" href="/assets/app-XpSQsho0.css" as="style"><link rel="stylesheet" href="/assets/app-XpSQsho0.css">
    <link rel="modulepreload" href="/assets/app-C9ZkQdtL.js"><link rel="modulepreload" href="/assets/how-to-run-container-æµ…è°ˆä»é•œåƒåˆ›å»ºå®¹å™¨çš„å®ç°ç»†èŠ‚.html-jvl_m0Ho.js"><link rel="modulepreload" href="/assets/å®¹å™¨å¯è¯»å±‚-CtpmvAQL.js">
    <link rel="prefetch" href="/assets/index.html-Cq2x_Plz.js" as="script"><link rel="prefetch" href="/assets/index.html-DcrhIc50.js" as="script"><link rel="prefetch" href="/assets/index.html-l3Mfv20n.js" as="script"><link rel="prefetch" href="/assets/git-merge-method.html-DYk2OKV6.js" as="script"><link rel="prefetch" href="/assets/git-merge-conflicts.html-DwKNufyn.js" as="script"><link rel="prefetch" href="/assets/è®°ä¸€æ¬¡æ—¶åŒºå¼‚å¸¸é—®é¢˜æ’æŸ¥æ€è·¯å’Œè¿‡ç¨‹.html-CmWfuENr.js" as="script"><link rel="prefetch" href="/assets/oauth-client-server-side-apps.html-BqG3eq3Z.js" as="script"><link rel="prefetch" href="/assets/oauth-client-client-side-apps.html-Ba5djUpl.js" as="script"><link rel="prefetch" href="/assets/how-to-build-images-docker-é•œåƒè§„èŒƒ.html-BaUU0uzu.js" as="script"><link rel="prefetch" href="/assets/how-to-run-container-oci-è¿è¡Œæ—¶è§„èŒƒ.html-n5Gx9AhO.js" as="script"><link rel="prefetch" href="/assets/how-to-build-image-ä»-0-å¼€å§‹å¸¦ä½ å¾’æ‰‹æ„å»º-docker-é•œåƒ.html-BARpmj1F.js" as="script"><link rel="prefetch" href="/assets/how-to-run-container-æµ…è°ˆä»é•œåƒåˆ›å»ºå®¹å™¨çš„å®ç°ç»†èŠ‚.html-D4IBOQR2.js" as="script"><link rel="prefetch" href="/assets/how-to-build-image-æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•æ¨é•œåƒè‡³-docker-registry.html-DYyFcNhQ.js" as="script"><link rel="prefetch" href="/assets/wasm-or-container.html-DJHxnj1Z.js" as="script"><link rel="prefetch" href="/assets/c-tmp-exercise.html-BARfCn0i.js" as="script"><link rel="prefetch" href="/assets/golang-å®¹æ˜“è¢«-k8s-è¯¯å¯¼çš„-json-inline.html-DhTPbG7G.js" as="script"><link rel="prefetch" href="/assets/llm-å¤§æ¨¡å‹-é˜¿é‡Œäº‘å®ä¾‹è¯Šæ–­-ai-èµ‹èƒ½äº‘è¿ç»´çš„å®è·µä¸å¿ƒå¾—.html-CILGm0Xq.js" as="script"><link rel="prefetch" href="/assets/pythonå¼‚æ­¥åˆæ¢-åç¨‹çš„å®šä¹‰.html-CTETnyUI.js" as="script"><link rel="prefetch" href="/assets/python-auto-doc-for-drf.html-f-x8UoSk.js" as="script"><link rel="prefetch" href="/assets/pydantic-with-drf-yasg.html-Cng_SWIA.js" as="script"><link rel="prefetch" href="/assets/pythonå¼‚æ­¥è¿›é˜¶-æ¢è®¨åç¨‹å®ç°å¼‚æ­¥çš„ç»†èŠ‚.html-PG_5q-b1.js" as="script"><link rel="prefetch" href="/assets/fastapiä¸ä¾èµ–æ³¨å…¥æ¨¡å¼.html-Bc2dGkI-.js" as="script"><link rel="prefetch" href="/assets/bkpaas-refactor-experience.html-BHxwmEt2.js" as="script"><link rel="prefetch" href="/assets/è®°ä¸€æ¬¡-nginx-ingress-é•¿è¿æ¥å¼‚å¸¸æ–­å¼€é—®é¢˜å¤ç›˜è¿‡ç¨‹.html-DU4AqjAE.js" as="script"><link rel="prefetch" href="/assets/let-s-encrypt-å®ç°å…¨è‡ªåŠ¨å…è´¹-https-è¯ä¹¦æ‰˜ç®¡-è‡ªåŠ¨ç­¾å‘ã€ç»­æœŸ.html-CrXuJSIt.js" as="script"><link rel="prefetch" href="/assets/index.html-B3wdLghI.js" as="script"><link rel="prefetch" href="/assets/how-to-build-images-docker-é•œåƒè§„èŒƒ.html-C396ZzQy.js" as="script"><link rel="prefetch" href="/assets/how-to-run-container-oci-è¿è¡Œæ—¶è§„èŒƒ.html-Da-g9mz5.js" as="script"><link rel="prefetch" href="/assets/how-to-build-image-ä»-0-å¼€å§‹å¸¦ä½ å¾’æ‰‹æ„å»º-docker-é•œåƒ.html-Cl1QT1Iq.js" as="script"><link rel="prefetch" href="/assets/how-to-build-image-æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•æ¨é•œåƒè‡³-docker-registry.html-rDGc7EC3.js" as="script"><link rel="prefetch" href="/assets/wasm-or-container.html-B92QoEig.js" as="script"><link rel="prefetch" href="/assets/404.html-CW18lcRi.js" as="script"><link rel="prefetch" href="/assets/index.html-CM7MHd4A.js" as="script"><link rel="prefetch" href="/assets/index.html-Dq3zPlfg.js" as="script"><link rel="prefetch" href="/assets/index.html-B6Q6SbpY.js" as="script"><link rel="prefetch" href="/assets/index.html-BtVR4R9w.js" as="script"><link rel="prefetch" href="/assets/index.html-6mz4_3D0.js" as="script"><link rel="prefetch" href="/assets/index.html-CfTCW2C5.js" as="script"><link rel="prefetch" href="/assets/index.html-CHZuHSPX.js" as="script"><link rel="prefetch" href="/assets/index.html-CSsQjdIk.js" as="script"><link rel="prefetch" href="/assets/index.html-B4zcpDmq.js" as="script"><link rel="prefetch" href="/assets/index.html-qFTEqwSj.js" as="script"><link rel="prefetch" href="/assets/index.html-AStGfSw7.js" as="script"><link rel="prefetch" href="/assets/index.html-CKsmPDBj.js" as="script"><link rel="prefetch" href="/assets/index.html-ZykqS0XK.js" as="script"><link rel="prefetch" href="/assets/index.html-BUvP3qW-.js" as="script"><link rel="prefetch" href="/assets/index.html-DCDrca_9.js" as="script"><link rel="prefetch" href="/assets/index.html-DWkcA6sD.js" as="script"><link rel="prefetch" href="/assets/index.html-BVzvJU9D.js" as="script"><link rel="prefetch" href="/assets/index.html-Drkb8cEt.js" as="script"><link rel="prefetch" href="/assets/index.html-D9ig1XGX.js" as="script"><link rel="prefetch" href="/assets/index.html-BVSD0YGz.js" as="script"><link rel="prefetch" href="/assets/index.html-Cg7ITXW1.js" as="script"><link rel="prefetch" href="/assets/index.html-BijFEvsz.js" as="script"><link rel="prefetch" href="/assets/index.html-mx1s1og9.js" as="script"><link rel="prefetch" href="/assets/index.html-PbOu7-91.js" as="script"><link rel="prefetch" href="/assets/index.html-CRQohOU-.js" as="script"><link rel="prefetch" href="/assets/index.html-n-68f0B3.js" as="script"><link rel="prefetch" href="/assets/index.html-CnoccxBl.js" as="script"><link rel="prefetch" href="/assets/index.html-CKJRm-Os.js" as="script"><link rel="prefetch" href="/assets/index.html-b4g5wXJW.js" as="script"><link rel="prefetch" href="/assets/index.html-D9KfxaAF.js" as="script"><link rel="prefetch" href="/assets/index.html-D0oudBAL.js" as="script"><link rel="prefetch" href="/assets/index.html-CzLIK9Gi.js" as="script"><link rel="prefetch" href="/assets/index.html-BXDlLAsx.js" as="script"><link rel="prefetch" href="/assets/index.html-CfvgfaAe.js" as="script"><link rel="prefetch" href="/assets/index.html-B9U7Tr46.js" as="script"><link rel="prefetch" href="/assets/index.html-CX9Yd5gT.js" as="script"><link rel="prefetch" href="/assets/index.html-BJ8m9IAJ.js" as="script"><link rel="prefetch" href="/assets/index.html-DoXUFUap.js" as="script"><link rel="prefetch" href="/assets/index.html-Dw42EK89.js" as="script"><link rel="prefetch" href="/assets/index.html-Ct3QL0jp.js" as="script"><link rel="prefetch" href="/assets/index.html-Dy2bhHNv.js" as="script"><link rel="prefetch" href="/assets/index.html-D09SwBFD.js" as="script"><link rel="prefetch" href="/assets/index.html-BvWBCCdB.js" as="script"><link rel="prefetch" href="/assets/index.html-1q9_MmEh.js" as="script"><link rel="prefetch" href="/assets/index.html-Caog_EPN.js" as="script"><link rel="prefetch" href="/assets/index.html-BIXa5uon.js" as="script"><link rel="prefetch" href="/assets/index.html-CM9BDE8_.js" as="script"><link rel="prefetch" href="/assets/index.html-BmwrpMbg.js" as="script"><link rel="prefetch" href="/assets/giscus-7BMGhbDA.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-SzV8tJDW.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar has-toc"><!--[--><header id="header" class="vp-header" style="background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NCIgaGVpZ2h0PSIxNDUiPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InJnYigxMzAsNDgsMTU5KSI+PC9yZWN0Pjxwb2x5bGluZSBwb2ludHM9IjE0LDAsMjgsMjQuMjQ4NzExMzA1OTY0MjgsMCwyNC4yNDg3MTEzMDU5NjQyOCwxNCwwIiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDQ2IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTQsMCkgcm90YXRlKDE4MCwxNCwxMi4xMjQzNTU2NTI5ODIxNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMTQsMCwyOCwyNC4yNDg3MTEzMDU5NjQyOCwwLDI0LjI0ODcxMTMwNTk2NDI4LDE0LDAiIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4wNDYiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcwLDApIHJvdGF0ZSgxODAsMTQsMTIuMTI0MzU1NjUyOTgyMTQpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjE0LDAsMjgsMjQuMjQ4NzExMzA1OTY0MjgsMCwyNC4yNDg3MTEzMDU5NjQyOCwxNCwwIiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMTA2NjY2NjY2NjY2NjY2NjciIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkgcm90YXRlKDAsMTQsMTIuMTI0MzU1NjUyOTgyMTQpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjE0LDAsMjgsMjQuMjQ4NzExMzA1OTY0MjgsMCwyNC4yNDg3MTEzMDU5NjQyOCwxNCwwIiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMDg5MzMzMzMzMzMzMzMzMzMiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0LDApIHJvdGF0ZSgxODAsMTQsMTIuMTI0MzU1NjUyOTgyMTQpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjE0LDAsMjgsMjQuMjQ4NzExMzA1OTY0MjgsMCwyNC4yNDg3MTEzMDU5NjQyOCwxNCwwIiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMDcyMDAwMDAwMDAwMDAwMDEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI4LDApIHJvdGF0ZSgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjEzMjY2NjY2NjY2NjY2NjY1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MiwwKSByb3RhdGUoMTgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjA4OTMzMzMzMzMzMzMzMzMzIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NiwwKSByb3RhdGUoMCwxNCwxMi4xMjQzNTU2NTI5ODIxNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMTQsMCwyOCwyNC4yNDg3MTEzMDU5NjQyOCwwLDI0LjI0ODcxMTMwNTk2NDI4LDE0LDAiIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4wNzIwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE0LDI0LjI0ODcxMTMwNTk2NDI4KSByb3RhdGUoMCwxNCwxMi4xMjQzNTU2NTI5ODIxNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMTQsMCwyOCwyNC4yNDg3MTEzMDU5NjQyOCwwLDI0LjI0ODcxMTMwNTk2NDI4LDE0LDAiIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4wNzIwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzAsMjQuMjQ4NzExMzA1OTY0MjgpIHJvdGF0ZSgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjA4OTMzMzMzMzMzMzMzMzMzIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDI0LjI0ODcxMTMwNTk2NDI4KSByb3RhdGUoMTgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjA4OTMzMzMzMzMzMzMzMzMzIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNCwyNC4yNDg3MTEzMDU5NjQyOCkgcm90YXRlKDAsMTQsMTIuMTI0MzU1NjUyOTgyMTQpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjE0LDAsMjgsMjQuMjQ4NzExMzA1OTY0MjgsMCwyNC4yNDg3MTEzMDU5NjQyOCwxNCwwIiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMTI0MDAwMDAwMDAwMDAwMDEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI4LDI0LjI0ODcxMTMwNTk2NDI4KSByb3RhdGUoMTgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjA5OCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDIsMjQuMjQ4NzExMzA1OTY0MjgpIHJvdGF0ZSgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjA5OCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTYsMjQuMjQ4NzExMzA1OTY0MjgpIHJvdGF0ZSgxODAsMTQsMTIuMTI0MzU1NjUyOTgyMTQpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjE0LDAsMjgsMjQuMjQ4NzExMzA1OTY0MjgsMCwyNC4yNDg3MTEzMDU5NjQyOCwxNCwwIiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDk4IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTQsNDguNDk3NDIyNjExOTI4NTYpIHJvdGF0ZSgxODAsMTQsMTIuMTI0MzU1NjUyOTgyMTQpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjE0LDAsMjgsMjQuMjQ4NzExMzA1OTY0MjgsMCwyNC4yNDg3MTEzMDU5NjQyOCwxNCwwIiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDk4IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3MCw0OC40OTc0MjI2MTE5Mjg1Nikgcm90YXRlKDE4MCwxNCwxMi4xMjQzNTU2NTI5ODIxNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMTQsMCwyOCwyNC4yNDg3MTEzMDU5NjQyOCwwLDI0LjI0ODcxMTMwNTk2NDI4LDE0LDAiIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4wODkzMzMzMzMzMzMzMzMzMyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCw0OC40OTc0MjI2MTE5Mjg1Nikgcm90YXRlKDAsMTQsMTIuMTI0MzU1NjUyOTgyMTQpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjE0LDAsMjgsMjQuMjQ4NzExMzA1OTY0MjgsMCwyNC4yNDg3MTEzMDU5NjQyOCwxNCwwIiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDQ2IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNCw0OC40OTc0MjI2MTE5Mjg1Nikgcm90YXRlKDE4MCwxNCwxMi4xMjQzNTU2NTI5ODIxNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMTQsMCwyOCwyNC4yNDg3MTEzMDU5NjQyOCwwLDI0LjI0ODcxMTMwNTk2NDI4LDE0LDAiIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4wNjMzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjgsNDguNDk3NDIyNjExOTI4NTYpIHJvdGF0ZSgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjE0MTMzMzMzMzMzMzMzMzM0IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0Miw0OC40OTc0MjI2MTE5Mjg1Nikgcm90YXRlKDE4MCwxNCwxMi4xMjQzNTU2NTI5ODIxNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMTQsMCwyOCwyNC4yNDg3MTEzMDU5NjQyOCwwLDI0LjI0ODcxMTMwNTk2NDI4LDE0LDAiIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTYsNDguNDk3NDIyNjExOTI4NTYpIHJvdGF0ZSgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjA4OTMzMzMzMzMzMzMzMzMzIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTQsNzIuNzQ2MTMzOTE3ODkyODUpIHJvdGF0ZSgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjA4OTMzMzMzMzMzMzMzMzMzIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3MCw3Mi43NDYxMzM5MTc4OTI4NSkgcm90YXRlKDAsMTQsMTIuMTI0MzU1NjUyOTgyMTQpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjE0LDAsMjgsMjQuMjQ4NzExMzA1OTY0MjgsMCwyNC4yNDg3MTEzMDU5NjQyOCwxNCwwIiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDk4IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDcyLjc0NjEzMzkxNzg5Mjg1KSByb3RhdGUoMTgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjAyODY2NjY2NjY2NjY2NjY2NyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQsNzIuNzQ2MTMzOTE3ODkyODUpIHJvdGF0ZSgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjA2MzMzMzMzMzMzMzMzMzM0IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyOCw3Mi43NDYxMzM5MTc4OTI4NSkgcm90YXRlKDE4MCwxNCwxMi4xMjQzNTU2NTI5ODIxNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMTQsMCwyOCwyNC4yNDg3MTEzMDU5NjQyOCwwLDI0LjI0ODcxMTMwNTk2NDI4LDE0LDAiIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4xNDEzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDIsNzIuNzQ2MTMzOTE3ODkyODUpIHJvdGF0ZSgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjAyIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1Niw3Mi43NDYxMzM5MTc4OTI4NSkgcm90YXRlKDE4MCwxNCwxMi4xMjQzNTU2NTI5ODIxNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMTQsMCwyOCwyNC4yNDg3MTEzMDU5NjQyOCwwLDI0LjI0ODcxMTMwNTk2NDI4LDE0LDAiIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4wODkzMzMzMzMzMzMzMzMzMyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE0LDk2Ljk5NDg0NTIyMzg1NzEzKSByb3RhdGUoMTgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjA4OTMzMzMzMzMzMzMzMzMzIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3MCw5Ni45OTQ4NDUyMjM4NTcxMykgcm90YXRlKDE4MCwxNCwxMi4xMjQzNTU2NTI5ODIxNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMTQsMCwyOCwyNC4yNDg3MTEzMDU5NjQyOCwwLDI0LjI0ODcxMTMwNTk2NDI4LDE0LDAiIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4wODA2NjY2NjY2NjY2NjY2NiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCw5Ni45OTQ4NDUyMjM4NTcxMykgcm90YXRlKDAsMTQsMTIuMTI0MzU1NjUyOTgyMTQpIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9IjE0LDAsMjgsMjQuMjQ4NzExMzA1OTY0MjgsMCwyNC4yNDg3MTEzMDU5NjQyOCwxNCwwIiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMDU0NjY2NjY2NjY2NjY2NjciIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE0LDk2Ljk5NDg0NTIyMzg1NzEzKSByb3RhdGUoMTgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjA0NiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjgsOTYuOTk0ODQ1MjIzODU3MTMpIHJvdGF0ZSgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjA1NDY2NjY2NjY2NjY2NjY3IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0Miw5Ni45OTQ4NDUyMjM4NTcxMykgcm90YXRlKDE4MCwxNCwxMi4xMjQzNTU2NTI5ODIxNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMTQsMCwyOCwyNC4yNDg3MTEzMDU5NjQyOCwwLDI0LjI0ODcxMTMwNTk2NDI4LDE0LDAiIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4wMzczMzMzMzMzMzMzMzMzMyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTYsOTYuOTk0ODQ1MjIzODU3MTMpIHJvdGF0ZSgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjAyODY2NjY2NjY2NjY2NjY2NyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE0LDEyMS4yNDM1NTY1Mjk4MjE0KSByb3RhdGUoMCwxNCwxMi4xMjQzNTU2NTI5ODIxNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMTQsMCwyOCwyNC4yNDg3MTEzMDU5NjQyOCwwLDI0LjI0ODcxMTMwNTk2NDI4LDE0LDAiIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4wMjg2NjY2NjY2NjY2NjY2NjciIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcwLDEyMS4yNDM1NTY1Mjk4MjE0KSByb3RhdGUoMCwxNCwxMi4xMjQzNTU2NTI5ODIxNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMTQsMCwyOCwyNC4yNDg3MTEzMDU5NjQyOCwwLDI0LjI0ODcxMTMwNTk2NDI4LDE0LDAiIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4wNTQ2NjY2NjY2NjY2NjY2NyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwxMjEuMjQzNTU2NTI5ODIxNCkgcm90YXRlKDE4MCwxNCwxMi4xMjQzNTU2NTI5ODIxNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMTQsMCwyOCwyNC4yNDg3MTEzMDU5NjQyOCwwLDI0LjI0ODcxMTMwNTk2NDI4LDE0LDAiIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4wNjMzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQsMTIxLjI0MzU1NjUyOTgyMTQpIHJvdGF0ZSgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjA4MDY2NjY2NjY2NjY2NjY2IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyOCwxMjEuMjQzNTU2NTI5ODIxNCkgcm90YXRlKDE4MCwxNCwxMi4xMjQzNTU2NTI5ODIxNCkiPjwvcG9seWxpbmU+PHBvbHlsaW5lIHBvaW50cz0iMTQsMCwyOCwyNC4yNDg3MTEzMDU5NjQyOCwwLDI0LjI0ODcxMTMwNTk2NDI4LDE0LDAiIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDIsMTIxLjI0MzU1NjUyOTgyMTQpIHJvdGF0ZSgwLDE0LDEyLjEyNDM1NTY1Mjk4MjE0KSI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIxNCwwLDI4LDI0LjI0ODcxMTMwNTk2NDI4LDAsMjQuMjQ4NzExMzA1OTY0MjgsMTQsMCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjAyODY2NjY2NjY2NjY2NjY2NyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTYsMTIxLjI0MzU1NjUyOTgyMTQpIHJvdGF0ZSgxODAsMTQsMTIuMTI0MzU1NjUyOTgyMTQpIj48L3BvbHlsaW5lPjwvc3ZnPg==&quot;);"><div class="vp-navbar-container"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/en/"><img class="vp-nav-logo" src="/img/avatar.png" alt><!----><span class="vp-site-name hide-in-pad">Personal technical article sharing</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/en/" aria-label="Home"><span class="font-icon icon home" style=""></span>Home<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/en/article/" aria-label="Articles"><span class="font-icon icon book" style=""></span>Articles<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/en/resume/" aria-label="About Me"><span class="font-icon icon circle-question" style=""></span>About Me<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="Select language"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/posts/2021/08/12/how-to-run-container-%E6%B5%85%E8%B0%88%E4%BB%8E%E9%95%9C%E5%83%8F%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%BB%86%E8%8A%82.html" aria-label="ç®€ä½“ä¸­æ–‡"><!---->ç®€ä½“ä¸­æ–‡<!----></a></li><li class="dropdown-item"><a class="route-link nav-link active" href="/en/posts/2021/08/12/how-to-run-container-%E6%B5%85%E8%B0%88%E4%BB%8E%E9%95%9C%E5%83%8F%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%BB%86%E8%8A%82.html" aria-label="English"><!---->English<!----></a></li></ul></button></div></div><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/shabbywu/blog" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></div><div class="banner"><h1 class="text">How To Run Container - Discussion on the implementation details of creating a container from an image</h1></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><div><!--[--><div class="blog-page"><main id="main-content" class="blog-main"><div class="blog-post custom"><section class="post-meta main-div"><div class="post-date"><span>Writing Dateï¼š</span> <span class="page-date-info" aria-label="Writing DateğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2021-08-12T00:00:00.000Z"></span></div><div class="post-links"><a href="/en/posts/2021/04/01/how-to-build-image-%E4%BB%8E-0-%E5%BC%80%E5%A7%8B%E5%B8%A6%E4%BD%A0%E5%BE%92%E6%89%8B%E6%9E%84%E5%BB%BA-docker-%E9%95%9C%E5%83%8F.html" class=""><span>ï¼š</span><span>How To Build Images: Guide you to build Docker image manually from scratch</span></a></div><div class="post-links"><a href="/en/posts/2021/12/05/how-to-build-image-%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E5%A6%82%E4%BD%95%E6%8E%A8%E9%95%9C%E5%83%8F%E8%87%B3-docker-registry.html" class=""><span>ï¼š</span><span>How To Build Images: Step-by-step guide you to access Docker Registry</span></a></div></section><article class="blog-post-content main-div"><div class="vp-page-title"><h1><!---->How To Run Container - Discussion on the implementation details of creating a container from an image</h1><div class="page-info"><span class="page-author-info" aria-label="AuthorğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/shabbywu" target="_blank" rel="noopener noreferrer">shabbywu</a></span><span property="author" content="shabbywu"></span></span><!----><span class="page-date-info" aria-label="Writing DateğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2021-08-12T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 10 min</span><meta property="timeRequired" content="PT10M"></span><span class="page-category-info" aria-label="CategoryğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category0 clickable" role="navigation">Container Technology</span><!--]--><meta property="articleSection" content="Container Technology"></span><!----></div><hr></div><div class="theme-hope-content" id="markdown-content"><h2 id="preface" tabindex="-1"><a class="header-anchor" href="#preface"><span>Preface</span></a></h2><p>We are now in the era of containerization, where hardly anyone in development, testing, or operations would be unfamiliar with or unable to use Docker. Using Docker is also straightforward; most of the time, launching a container simply involves executing <code>docker run {your-image-name}</code>, and building an image is as simple as executing <code>docker build dockerfile .</code>.<br> Perhaps it&#39;s precisely because Docker encapsulates implementation details so thoroughly that I recently realized that we may have only learned <strong>how to use Docker CLI</strong>, rather than understanding how Docker actually operates.<br> I will discuss the implementation details related to <code>docker run {your-image-name}</code> in the ã€How To Run Containerã€ series. This article is the second in the series and will introduce the implementation details involved in creating a container from an image.</p><h2 id="what-are-images-and-containers" tabindex="-1"><a class="header-anchor" href="#what-are-images-and-containers"><span>What Are Images and Containers?</span></a></h2><h3 id="_1-what-is-an-image" tabindex="-1"><a class="header-anchor" href="#_1-what-is-an-image"><span>1. What is an Image?</span></a></h3><p>As mentioned in my previous article <a class="route-link" href="/en/posts/2021/01/31/how-to-build-images-docker-%E9%95%9C%E5%83%8F%E8%A7%84%E8%8C%83.html">ã€Docker é•œåƒè§„èŒƒ v1.2ã€</a>, an <code>image</code> is an archive that <strong>stores the history of changes made to a file system</strong>. Generally, a image has the following directory structure:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>.
â”œâ”€â”€ 036a82c6d65f2fa43a13599661490be3fca1c3d6790814668d4e8c0213153b12
â”‚Â Â  â”œâ”€â”€ VERSION
â”‚Â Â  â”œâ”€â”€ json
â”‚Â Â  â””â”€â”€ layer.tar
â”œâ”€â”€ f578fecf2875c8c4e4f88d15b90949fa40c71a0f0231b831f1263c708c2d524d
â”‚Â Â  â”œâ”€â”€ VERSION
â”‚Â Â  â”œâ”€â”€ json
â”‚Â Â  â””â”€â”€ layer.tar
â”œâ”€â”€ 6ad733544a6317992a6fac4eb19fe1df577d4dec7529efec28a5bd0edad0fd30.json
â”œâ”€â”€ manifest.json
â””â”€â”€ repositories
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>When storing changes to the file system, an <code>image</code> defines <strong>a history of changes to a set of file systems</strong> as <code>ã€Œimage layersã€</code>. Each image layer is responsible for recording the differences between the file systems of that layer and the previous layer. The relationships between these image layers are maintained by an <code>image manifest</code>.</p><p>In summary, <strong>an image can be understood simply as a file system composed of multiple image layers stacked on top of each other</strong> (as shown in the diagram below).</p><div class="language-plantuml line-numbers-mode" data-ext="plantuml" data-title="plantuml"><pre class="language-plantuml"><code><img src="https://www.plantuml.com/plantuml/svg/RGyp5aD1i9zJpDi-x68rSSxmRNDrzjZ9s9XckPBcHU13h6YUOXcu2iwI0vx1T7m3oJM0EoLqJ2FB2Voa5b5eEbQHAhaJXUIQlehpOCTKj1ot2ZNIphzWzrzmZzSTZxPXitalxkEXD59VeM_vxYk_V-KbJ8rGFxzr0W00
"></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>In fact, the image also contains some basic information, such as the creation date, author, the ID of its parent image, and relevant configurations for runtime. For a more detailed description of image content, please refer to my another article <a class="route-link" href="/en/posts/2021/01/31/how-to-build-images-docker-%E9%95%9C%E5%83%8F%E8%A7%84%E8%8C%83.html">ã€Docker Image Specification v1.2ã€</a></p></blockquote><h3 id="_2-what-is-a-container" tabindex="-1"><a class="header-anchor" href="#_2-what-is-a-container"><span>2. What is a Container?</span></a></h3><p>According to the definition of OCI (Open Container Initiative), a <code>container</code> is a configurable environment used for <strong>executing processes</strong>, with <strong>resource constraints</strong> and <strong>isolation</strong>. We know that the <strong>resource constraints</strong> and <strong>isolation</strong> of <code>Linux containers</code> are implemented based on <code>Cgroups</code> and <code>Linux namespaces</code> respectively. Both are functionalities provided by the Linux kernel. Cgroups are used to restrict and isolate a group of processes&#39; usage of system resources, while Linux namespaces encapsulate kernel resources (IPC, Network, Mount, PID, UTS, and User), ensuring that different processes operating on the same resource within their respective namespace do not affect processes in other namespaces.</p><p>The relationship between a <code>container</code> and an <code>image</code> is like that of a template and an instance. An image provides the <strong>necessary elements (file system and runtime configuration)</strong> to run a container, but a container can also run without depending on an image. In other words, we can consider an image as a <strong>sufficient but not necessary condition</strong> for a container to run.</p><blockquote><p>For more details on &quot;sufficient but not necessary conditions,&quot; interested readers can refer to my previous article <a class="route-link" href="/en/posts/2021/04/01/how-to-build-image-%E4%BB%8E-0-%E5%BC%80%E5%A7%8B%E5%B8%A6%E4%BD%A0%E5%BE%92%E6%89%8B%E6%9E%84%E5%BB%BA-docker-%E9%95%9C%E5%83%8F.html#%E7%85%A7%E7%8C%AB%E7%94%BB%E8%99%8E-%E6%9E%84%E5%BB%BA%E5%8F%AF%E8%BF%90%E8%A1%8C%E7%9A%84%E5%AE%B9%E5%99%A8%E6%8D%86%E7%BB%91%E5%8C%85">ã€Guide you to build Docker image manually from scratchã€</a>. In that article, I demonstrated <strong>how to run a container using an image</strong> and <strong>how to build and run a container without relying on an image</strong>.</p></blockquote><h2 id="how-does-docker-create-a-container-from-an-image" tabindex="-1"><a class="header-anchor" href="#how-does-docker-create-a-container-from-an-image"><span>How does Docker create a container from an image?</span></a></h2><p>As mentioned earlier, an <code>image</code> is an archive that stores the history of changes made to a file system, while a <code>container</code> is a configurable environment used for <em>executing processes</em> with <strong>resource constraints</strong> and <strong>isolation</strong>. Essentially, an image provides the file system and runtime parameter configuration for a container, and the container is an instance created from an image.</p><p>Next, we will delve into the implementation details of how Docker creates a container from an image.</p><h3 id="image-storage-and-unionfs" tabindex="-1"><a class="header-anchor" href="#image-storage-and-unionfs"><span>Image Storage and UnionFS</span></a></h3><p>Docker&#39;s layered image storage design is inspired by <em>UnionFS</em>. <em>UnionFS</em> is a technology that can mount files and directories from multiple independent file systems into a unified file system, masking the underlying details.</p><p>Each image layer in a Docker image is an <strong>incomplete</strong> file system that records the differences between the file systems of that layer and the previous layer. This layered approach gives Docker lighter-weight images (compared to virtual machines), and distributing images only requires downloading the corresponding image layers.</p><p>However, this layered image design also introduces a challenge: <strong>how to delete files from upper layers of an image?</strong></p><p>For this problem, Docker has directly adopted UnionFS&#39;s solution: <code>Whiteout</code> and <code>Opaque</code>.</p><h4 id="whiteout" tabindex="-1"><a class="header-anchor" href="#whiteout"><span>Whiteout</span></a></h4><p>The concepts of <code>Whiteout</code> and <code>Opaque Whiteout</code> are borrowed from the UnionFS protocol. In Docker images, by using a convention for file naming, the lower layer file system describes which files or directories from the upper layer file system need to be masked. For example, here&#39;s a basic layer containing multiple resources:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>â¯ tree .
.
â””â”€â”€ a
    â”œâ”€â”€ b
    â”‚Â Â  â””â”€â”€ c
    â”‚Â Â      â”œâ”€â”€ bar
    â”‚Â Â      â””â”€â”€ foo
    â””â”€â”€ baz

3 directories, 3 files
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If the file <code>a/b/c/foo</code> needs to be deleted from the lower layer file system, then the lower layer file system needs to create a hidden file named with <code>.wh.&lt;filename&gt;</code>. Therefore, the lower layer file system should have the following file system structure:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre bash="" class="language-bash"><code>â¯ tree . -a
.
â””â”€â”€ a
    â””â”€â”€ b
        â””â”€â”€ c
            â””â”€â”€ .wh.foo

3 directories, 1 file
</code></pre><div class="highlight-lines"><br><br><br><br><br><div class="highlight-line">Â </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="opaque-whiteout" tabindex="-1"><a class="header-anchor" href="#opaque-whiteout"><span>Opaque Whiteout</span></a></h4><p>In addition to using <code>Whiteout</code> to describe the protocol for deleting individual files, it is also possible to use <code>Opaque Whiteout</code> to describe the deletion of all files within a particular directory.</p><p>Taking the basic file system mentioned earlier as an example, if the lower layer file system wants to delete all files within the <code>a</code> directory, then the lower layer file system needs to create a hidden file named <code>.wh..wh..opq</code> within the <code>a</code> directory. Therefore, the lower layer file system should have the following file system structure:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre bash="" class="language-bash"><code>â¯ tree . -a
.
â””â”€â”€ a
    â””â”€â”€ .wh..wh..opq

1 directory, 1 file
</code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line">Â </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Of course, we can achieve equivalent effects to <code>Opaque Whiteout</code> using <code>Whiteout</code> as well. For example, considering the basic file system mentioned earlier, if we want to delete all files within the <code>a</code> directory, we can also obtain equivalent results with the following file system structure:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre bash="" class="language-bash"><code>â¯ tree . -a 
.
â””â”€â”€ a
    â”œâ”€â”€ .wh.b
    â””â”€â”€ .wh.baz

1 directory, 2 files
</code></pre><div class="highlight-lines"><br><br><br><div class="highlight-line">Â </div><div class="highlight-line">Â </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>It&#39;s worth noting that unlike <code>Opaque Whiteout</code>, if a new file or directory is added under the <code>a</code> directory, using <code>Whiteout</code> to delete all files in the <code>a</code> directory would require creating a new <code>Whiteout</code> hidden file for this new file or directory. However, when using <code>Opaque Whiteout</code>, this is not necessary.</p></blockquote><h3 id="readonly-copy-on-write" tabindex="-1"><a class="header-anchor" href="#readonly-copy-on-write"><span>ReadOnly &amp; Copy on Write</span></a></h3><h4 id="readonly-layer" tabindex="-1"><a class="header-anchor" href="#readonly-layer"><span>ReadOnly Layer</span></a></h4><p>Docker has designed a storage solution for image content (file system change history) based on UnionFS, while imposing a restriction: <strong>all image layers are read-only, and modifying the content of image layers is not allowed</strong>.</p><p>This restriction not only prevents unexpected changes to container content during runtime<sup>[1]</sup> but also makes container images lighter-weight compared to virtual machines.</p><blockquote><p><sup>[1]</sup>Consider this: if the content of the upper layer file system changes, does the union-mounted file system need to synchronize the changed content?</p></blockquote><figure><img src="/img/é•œåƒå±‚åªè¯»æ ·ä¾‹.png" alt="Example of read-only image layers (using the Ubuntu image as an example)" tabindex="0" loading="lazy"><figcaption>Example of read-only image layers (using the Ubuntu image as an example)</figcaption></figure><p>Based on Docker&#39;s excellent image design, each host only needs to store one copy of each image layer, and when distributing images, only the missing image layer content needs to be downloaded, greatly saving storage and network bandwidth.</p><p>Next, how do containers modify content in read-only image layers? This leads us to another technique: <strong>Copy-on-Write</strong>.</p><h4 id="copy-on-write" tabindex="-1"><a class="header-anchor" href="#copy-on-write"><span>Copy-on-Write</span></a></h4><p><strong>Copy-on-Write (also known as CoW)</strong> is actually an optimization strategy in the field of computer program design. As the name suggests, when multiple users simultaneously request the same resource (such as data in memory or on disk), they initially obtain addresses pointing to the same resource. Only when one user attempts to modify the content of the resource will the system actually make a copy of an exclusive version for that user, while the resource accessed by other users remains unchanged.</p><div class="language-plantuml line-numbers-mode" data-ext="plantuml" data-title="plantuml"><pre class="language-plantuml"><code><img src="https://www.plantuml.com/plantuml/svg/VP6tSiCX38TtdaBd9JsPquCOq_lC_Iqxk82FafvtZp2ak6wwtwVoSPo4g7rCmu4G0-f4Y0wywJv5Q1jFJJJEYj0tTgIz7i98DttTfTluDY38MDlkW8HkelEG0ddvhqOXVblWXe9BlY7u402hSWssOHNNSgr-wg___QrxtW2tV92WmmjbQpoPPq6vqTiQw01IbWZXoXaRoPSKIwecKrN7-VRXOLRO6o-2ZdV3Yf1LiWkZCsFxDLKbLJLTxedpF76k9yxrH2NgV9MH4pPOqqb7LTw4Qk9HB3h-4sP7l2ylkY7Ttddq9b91l2mZh0WkxU1jWgW98h8E7B11xi7_Y9KM4iNayB2G2GTnGhQTXeDl
"></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Containers introduce Copy-on-Write (Cow) technology, which saves space and time overheads incurred by creating multiple complete copies through <strong>lazy copying</strong>. This technology manifests in containers by adding a read/write layer (R/W Layer) on top of UnionFS for each container. All content within this layer represents all file system changes for that container.</p><blockquote><p>With the help of Cow technology, when building images, it&#39;s only necessary to archive the read/write layer of each image layer. <img src="/img/å®¹å™¨å¯è¯»å±‚.jpg" alt="Readable Layer in Containers (using the Ubuntu image as an example)" loading="lazy"></p></blockquote><h2 id="hands-on-creating-a-container-from-an-image-using-overlayfs2" tabindex="-1"><a class="header-anchor" href="#hands-on-creating-a-container-from-an-image-using-overlayfs2"><span>Hands-on: Creating a Container from an Image Using OverlayFS2</span></a></h2><p>The process of starting a container using runc has been thoroughly demonstrated in the previous article <a class="route-link" href="/en/posts/2021/04/01/how-to-build-image-%E4%BB%8E-0-%E5%BC%80%E5%A7%8B%E5%B8%A6%E4%BD%A0%E5%BE%92%E6%89%8B%E6%9E%84%E5%BB%BA-docker-%E9%95%9C%E5%83%8F.html">ã€ä» 0 å¼€å§‹å¸¦ä½ å¾’æ‰‹æ„å»º Docker é•œåƒã€</a>. Here, let&#39;s review the process briefly. To directly run a container, it&#39;s quite simple:</p><ol><li>Organize the container as a Filesystem Bundle.</li><li>Write correct configurations into <code>config.json</code>.</li><li>Populate <code>$root.path</code> with appropriate and available files.</li><li>Execute <code>runc run $containerid</code> to start the container.</li></ol><p>However, unlike the previous article where we built Docker images from scratch, this time we will obtain the image from DockerHub, fully simulating the process involved in <code>docker run {your-image-name}</code>.</p><h3 id="_1-obtaining-the-image" tabindex="-1"><a class="header-anchor" href="#_1-obtaining-the-image"><span>1. Obtaining the Image</span></a></h3><p>We know that DockerHub can be accessed without Docker Engine, and its interface specification follows Docker Registry API V2. This means we only need to use the REST API to obtain images from DockerHub. Here, we&#39;ll use an open-source script <a href="https://raw.githubusercontent.com/moby/moby/master/contrib/download-frozen-image-v2.sh" target="_blank" rel="noopener noreferrer">download-frozen-image-v2.sh<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. This script implements processes like <code>Token authentication</code>, <code>pulling image manifests</code>, and <code>pulling image layers</code> using tools like curl and jq. Below is a demonstration of how to use this script to pull the alpine/git:v2.30.2 image.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre bash="" class="language-bash"><code>â¯ ./download-frozen-image-v2.sh -h
usage: ./download-frozen-image-v2.sh dir image[:tag][@digest] ...
       ./download-frozen-image-v2.sh /tmp/old-hello-world hello-world:latest@sha256:8be990ef2aeb16dbcb9271ddfe2610fa6658d13f6dfb8bc72074cc1ca36966a7

â¯ ./download-frozen-image-v2.sh alpine alpine/git:v2.30.2
Downloading &#39;alpine/git:v2.30.2@v2.30.2&#39; (3 layers)...
#=#=-  ##     #
############################################################################################################################################################################ 100.0%
#=#=-  ##     #
############################################################################################################################################################################ 100.0%
#=#=-  ##     #
############################################################################################################################################################################ 100.0%

Download of images into &#39;alpine&#39; complete.
Use something like the following to load the result into a Docker daemon:
  tar -cC &#39;alpine&#39; . | docker load

## æŸ¥çœ‹é•œåƒç»“æ„
â¯ tree alpine/
alpine/
â”œâ”€â”€ 09af0b97aec5975955488d528e8535d2678b75cb29adb6827abd85b52802d1b1
â”‚Â Â  â”œâ”€â”€ json
â”‚Â Â  â”œâ”€â”€ layer.tar
â”‚Â Â  â””â”€â”€ VERSION
â”œâ”€â”€ 86f68eb8bb2057574a5385c9ce7528b70632e1c750fb36d5ac76c0a5460f5d95
â”‚Â Â  â”œâ”€â”€ json
â”‚Â Â  â”œâ”€â”€ layer.tar
â”‚Â Â  â””â”€â”€ VERSION
â”œâ”€â”€ b86cef5f7cf032b9793fe2a4fb18ddf606df8ea9e41d4c2086749bf943c2985b.json
â”œâ”€â”€ d8aa90f099f0f17f3ad894f0909e6bfd026cc4c76eec03e3e50391af42f41976
â”‚Â Â  â”œâ”€â”€ json
â”‚Â Â  â”œâ”€â”€ layer.tar
â”‚Â Â  â””â”€â”€ VERSION
â”œâ”€â”€ manifest.json
â””â”€â”€ repositories

3 directories, 12 files
</code></pre><div class="highlight-lines"><br><br><br><br><div class="highlight-line">Â </div><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line">Â </div><br><br><br><div class="highlight-line">Â </div><br><br><br><div class="highlight-line">Â </div><br><div class="highlight-line">Â </div><br><br><div class="highlight-line">Â </div><br><div class="highlight-line">Â </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-building-the-overlay-file-system" tabindex="-1"><a class="header-anchor" href="#_2-building-the-overlay-file-system"><span>2. Building the Overlay File System</span></a></h3><p>After obtaining the image, we can start organizing the image content into a Filesystem Bundle. Here, we&#39;ll follow the process outlined in the <a href="https://github.com/moby/moby/blob/master/daemon/graphdriver/overlay2/overlay.go" target="_blank" rel="noopener noreferrer">Docker Overlay2 Driver<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to construct the container&#39;s rootfs.</p><blockquote><p>OverlayFS is a modern union file system similar to AUFS but with faster performance and simpler implementation. It has been integrated into Linux kernel versions 3.8 and above and is recommended by Docker for use as the file system in production environments.</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>## Extracting the image content
### Determining the order of image layers
â¯ cat alpine/manifest.json
[
  {
    &quot;Config&quot;: &quot;b86cef5f7cf032b9793fe2a4fb18ddf606df8ea9e41d4c2086749bf943c2985b.json&quot;,
    &quot;RepoTags&quot;: [
      &quot;alpine/git:v2.30.2&quot;
    ],
    &quot;Layers&quot;: [
      &quot;86f68eb8bb2057574a5385c9ce7528b70632e1c750fb36d5ac76c0a5460f5d95/layer.tar&quot;,
      &quot;09af0b97aec5975955488d528e8535d2678b75cb29adb6827abd85b52802d1b1/layer.tar&quot;,
      &quot;d8aa90f099f0f17f3ad894f0909e6bfd026cc4c76eec03e3e50391af42f41976/layer.tar&quot;
    ]
  }
]

### Creating directories for extracting image layers
â¯ mkdir -p /tmp/overlay/image/1 /tmp/overlay/image/2 /tmp/overlay/image/3 

### Extracting the content of image layers and arranging them in order
â¯ tar -C /tmp/overlay/image/1 -xf alpine/86f68eb8bb2057574a5385c9ce7528b70632e1c750fb36d5ac76c0a5460f5d95/layer.tar
â¯ tar -C /tmp/overlay/image/2 -xf alpine/09af0b97aec5975955488d528e8535d2678b75cb29adb6827abd85b52802d1b1/layer.tar 
â¯ tar -C /tmp/overlay/image/3 -xf alpine/d8aa90f099f0f17f3ad894f0909e6bfd026cc4c76eec03e3e50391af42f41976/layer.tar

## Building OverlayFS
### Creating mount points (empty directories)
â¯ mkdir -p /tmp/overlay/container-a/merged /tmp/overlay/container-a/upperdir /tmp/overlay/container-a/workdir

### Mounting the image file system to the /tmp/overlay/container-a/merged directory, where the content of the read/write layer of the image is stored in /tmp/overlay/container-a/upperdir
â¯ cd /tmp/overlay/ &amp;&amp; \
  mount -t overlay overlay \
  -o lowerdir=image/1:image/2:image/3,upperdir=container-a/upperdir,workdir=container-a/workdir \
  /tmp/overlay/container-a/merged

## Verifying mount records
â¯ mount |grep overlay
overlay on /tmp/overlay/container-a/merged type overlay (rw,relatime,lowerdir=image/1:image/2:image/3,upperdir=container-a/upperdir,workdir=container-a/workdir)

## Verifying that changes in the read/write layer do not affect the lower layer file system
â¯ echo &quot;1&quot; &gt; /tmp/overlay/container-a/merged/a

## Only the read/write layer (upperdir) will be written to
â¯ cat /tmp/overlay/container-a/upperdir/a
1

## The lower layer file system (lowerdir) remains unchanged
â¯ cat image/1/a
cat: image/1/a: No such file or directory
â¯ cat image/2/a
cat: image/2/a: No such file or directory
â¯ cat image/3/a
cat: image/3/a: No such file or directory

## However, modifying the lower layer file system after mounting will reflect in the mounted union file system
â¯ echo &quot;2&quot; &gt; image/1/b
â¯ cat container-a/merged/b
2

## Then delete &#39;b&#39; in the merged layer and check the content of the read/write layer
â¯ rm container-a/merged/b &amp;&amp; ls -ahl container-a/upperdir
æ€»ç”¨é‡ 8.0K
drwxr-xr-x 2 root root 4.0K 8æœˆ  12 17:08 .
drwxr-xr-x 5 root root 4.0K 8æœˆ  12 12:05 ..
c--------- 1 root root 0, 0 8æœˆ  12 17:08 b

## Verify that it does not affect the lower layer of the image file system
â¯ cat image/1/b
2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-starting-the-container" tabindex="-1"><a class="header-anchor" href="#_3-starting-the-container"><span>3. Starting the Container</span></a></h3><p>After successfully creating the container&#39;s file system from the image in steps 1 and 2, now all that&#39;s left is to start it using runc.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>â¯ cd /tmp/overlay/container-a/

## Create config.json
â¯ runc spec

## Replace &quot;rootfs&quot; with &quot;merged&quot;, setting the container&#39;s startup directory to merged
â¯ sed -i &quot;s/\&quot;rootfs\&quot;/\&quot;merged\&quot;/&quot; config.json
## Disable readonly
â¯ sed -i &quot;s/\&quot;readonly\&quot;: true/\&quot;readonly\&quot;: false/&quot; config.json

## Start the container!
â¯ runc run container-a

## Try writing to a file
â¯ echo &quot;hello world&quot; &gt; container-a
â¯ cat container-a
hello world

## Verify if the file was successfully written outside the container
â¯ cat cat upperdir/container-a
hello world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-conclusion" tabindex="-1"><a class="header-anchor" href="#_4-conclusion"><span>4. Conclusion</span></a></h3><p>In this article, we successfully created a container file system from an image and successfully started the container. Let&#39;s summarize the process: 0. Familiarize yourself with the Docker Registry API V2 specification and understand how to download images from DockerHub (optional, if you already have the image).</p><ol><li>Understand the Docker image specification and how to convert images into file systems. <ul><li>If the image shields content from lower layers of the file system, then understanding the different UnionFS implementations of the Whiteout protocol is necessary.</li></ul></li><li>Familiarize yourself with the OCI runtime specification and understand how to start a container from a root file system.</li></ol><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>This article is the second installment of the ã€How To Run Containerã€ series, focusing on Docker image design and introducing how Docker image layering design is inspired by Union FileSystem. Docker requires that the content of each layer in the image only increases but does not decrease at the top level. However, the upper layer file system can shield content from the lower layer file system using the <code>Whiteout protocol</code>. Furthermore, thanks to the <code>Copy-on-Write (COW)</code> technology, Docker allocates a writable layer for each container, ensuring that modifications to the image content by one container do not affect others. This writable layer also records all file system changes for the container. Finally, this article demonstrated how to construct a container root file system and start a container without relying on Docker Engine.</p><p>So far, we have covered most of the technologies involved in containerization. The next article in this series will delve into the Linux kernel to explore the details of <strong>resource limitation</strong> and <strong>isolation</strong> in container implementation.</p><p>Before that, however, I will be writing the third article in the &quot;How To Build Images&quot; series. In this upcoming article, I will delve into the interaction process between <code>Docker Daemon</code> and <code>Docker Registry</code>, dissecting the details behind <code>docker pull</code> and <code>docker push</code>.</p></div></article><section class="post-meta main-div"><div class="post-date"><span>Writing Dateï¼š</span> <span class="page-date-info" aria-label="Writing DateğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2021-08-12T00:00:00.000Z"></span></div><div class="post-links"><a href="/en/posts/2021/04/01/how-to-build-image-%E4%BB%8E-0-%E5%BC%80%E5%A7%8B%E5%B8%A6%E4%BD%A0%E5%BE%92%E6%89%8B%E6%9E%84%E5%BB%BA-docker-%E9%95%9C%E5%83%8F.html"><span>ï¼š</span><span>How To Build Images: Guide you to build Docker image manually from scratch</span></a></div><div class="post-links"><a href="/en/posts/2021/12/05/how-to-build-image-%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E5%A6%82%E4%BD%95%E6%8E%A8%E9%95%9C%E5%83%8F%E8%87%B3-docker-registry.html"><span>ï¼š</span><span>How To Build Images: Step-by-step guide you to access Docker Registry</span></a></div></section><div id="comment" class="giscus-wrapper input-top blog-post-comments" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div></div></main><aside class="blog-aside"><div class="vp-blogger-info main-div" vocab="https://schema.org/" typeof="Person"><div class="vp-blogger" style="cursor:pointer;" aria-label="Personal Intro" data-balloon-pos="down" role="link"><div class="vp-blogger-header"><img class="vp-blogger-avatar round" src="/img/avatar.png" property="image" alt="Blogger Avatar" loading="lazy"></div><div class="vp-blogger-name" property="name">shabbywu</div><div class="vp-blogger-description">Fullstack programer</div><meta property="url" content="/en/resume/"></div><div class="vp-blog-counts"><a class="route-link vp-blog-count" href="/en/article/"><div class="count">7</div><div>Articles</div></a><a class="route-link vp-blog-count" href="/en/category/"><div class="count">1</div><div>Category</div></a><a class="route-link vp-blog-count" href="/en/tag/"><div class="count">5</div><div>Tag</div></a><a class="route-link vp-blog-count" href="/en/timeline/"><div class="count">6</div><div>Timeline</div></a></div><div class="vp-social-medias"><a class="vp-social-media" href="mailto:shabbywu@qq.com" rel="noopener noreferrer" target="_blank" aria-label="Email" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon email-icon" viewBox="0 0 1024 1024"><circle cx="512" cy="512" r="512" fill="#1384FF"/><path fill="#fff" d="M270.077 286.233H751.99c32.933 0 59.86 24.855 60.274 55.51l-301.023 157L210.217 341.88c.207-30.723 26.927-55.717 59.86-55.717zm-59.929 115.714-.276 277.756c0 30.931 27.134 56.2 60.205 56.2H751.99c33.14 0 60.274-25.269 60.274-56.2V401.81L518.283 551.492a15.88 15.88 0 0 1-14.43 0L210.148 401.947z"/></svg></a><a class="vp-social-media" href="https://github.com/shabbywu" rel="noopener noreferrer" target="_blank" aria-label="GitHub" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024"><circle cx="512" cy="512" r="512" fill="#171515"/><path fill="#fff" d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z"/></svg></a><a class="vp-social-media" href="/feed.json" rel="noopener noreferrer" target="_blank" aria-label="Rss" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon rss-icon" viewBox="0 0 1024 1024"><circle cx="512" cy="512" r="512" fill="#FD9B00"/><path fill="#fff" d="M687.981 740.39c0-225.92-183.617-409.777-409.21-409.777v-97.205c279.353 0 506.617 227.506 506.617 506.98H687.98zm-74.841 0h-97.538c0-63.567-24.688-123.245-69.43-167.993-44.762-44.856-104.24-69.556-167.54-69.556v-97.176c184.44 0 334.508 150.046 334.508 334.725zM346.038 605.166c37.35 0 67.514 30.357 67.514 67.39 0 37.146-30.163 67.177-67.514 67.177-37.219 0-67.458-30.03-67.458-67.176 0-37.034 30.24-67.391 67.458-67.391z"/></svg></a></div></div><section class="main-div sticky"><div class="toc-place-holder"><aside id="toc"><!----><div class="toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#preface">Preface</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#what-are-images-and-containers">What Are Images and Containers?</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_1-what-is-an-image">1. What is an Image?</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_2-what-is-a-container">2. What is a Container?</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#how-does-docker-create-a-container-from-an-image">How does Docker create a container from an image?</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#image-storage-and-unionfs">Image Storage and UnionFS</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#readonly-copy-on-write">ReadOnly &amp; Copy on Write</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#hands-on-creating-a-container-from-an-image-using-overlayfs2">Hands-on: Creating a Container from an Image Using OverlayFS2</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_1-obtaining-the-image">1. Obtaining the Image</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_2-building-the-overlay-file-system">2. Building the Overlay File System</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_3-starting-the-container">3. Starting the Container</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#_4-conclusion">4. Conclusion</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#conclusion">Conclusion</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><div class="toc-comment"><a href="#comment"><span class="font-icon icon comment" style=""></span> </a></div><!--]--></aside></div></section></aside></div><!--]--></div><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer"><a href="http://beian.miit.gov.cn" target="_blank">ç²¤ICPå¤‡2021176883å·</a></div><div class="vp-copyright"><a href="https://github.com/shabbywu/" target="_blank">shabbywu</a> Â© 2019-2026</div></footer></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-C9ZkQdtL.js" defer></script>
  </body>
</html>
