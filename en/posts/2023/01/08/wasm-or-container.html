<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.8" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.26" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="alternate" hreflang="zh-cn" href="https://blog.shabbywu.cn/posts/2023/01/08/wasm-or-container.html"><meta property="og:url" content="https://blog.shabbywu.cn/en/posts/2023/01/08/wasm-or-container.html"><meta property="og:site_name" content="Personal technical article sharing"><meta property="og:title" content="Webassembly - Will the next generation container runtime?"><meta property="og:description" content="Preface On March 20, 2013, DotCloud released the first version of Docker, marking the beginning of the era of containerization. Now, in the age of containerization, whether it's..."><meta property="og:type" content="article"><meta property="og:image" content="https://blog.shabbywu.cn/img/Wasm-work-on-servers.png"><meta property="og:locale" content="en-US"><meta property="og:locale:alternate" content="zh-CN"><meta property="og:updated_time" content="2024-03-10T12:12:17.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="Webassembly - Will the next generation container runtime?"><meta property="article:author" content="shabbywu"><meta property="article:tag" content="Webassembly"><meta property="article:published_time" content="2023-01-08T00:00:00.000Z"><meta property="article:modified_time" content="2024-03-10T12:12:17.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Webassembly - Will the next generation container runtime?","image":["https://blog.shabbywu.cn/img/Wasm-work-on-servers.png","https://blog.shabbywu.cn/img/Docker+Wasm.png"],"datePublished":"2023-01-08T00:00:00.000Z","dateModified":"2024-03-10T12:12:17.000Z","author":[{"@type":"Person","name":"shabbywu","url":"https://github.com/shabbywu"}]}</script><link rel="alternate" type="application/atom+xml" href="https://blog.shabbywu.cn/en/atom.xml" title="Personal technical article sharing Atom Feed"><link rel="alternate" type="application/json" href="https://blog.shabbywu.cn/en/feed.json" title="Personal technical article sharing JSON Feed"><link rel="alternate" type="application/rss+xml" href="https://blog.shabbywu.cn/en/rss.xml" title="Personal technical article sharing RSS Feed"><link rel="icon" href="/img/avatar.png"><title>Webassembly - Will the next generation container runtime? | Personal technical article sharing</title><meta name="description" content="Preface On March 20, 2013, DotCloud released the first version of Docker, marking the beginning of the era of containerization. Now, in the age of containerization, whether it's...">
    <link rel="preload" href="/assets/app-XpSQsho0.css" as="style"><link rel="stylesheet" href="/assets/app-XpSQsho0.css">
    <link rel="modulepreload" href="/assets/app-C9ZkQdtL.js"><link rel="modulepreload" href="/assets/wasm-or-container.html-B92QoEig.js"><link rel="modulepreload" href="/assets/Docker_Wasm-s6Xy7vL_.js">
    <link rel="prefetch" href="/assets/index.html-Cq2x_Plz.js" as="script"><link rel="prefetch" href="/assets/index.html-DcrhIc50.js" as="script"><link rel="prefetch" href="/assets/index.html-l3Mfv20n.js" as="script"><link rel="prefetch" href="/assets/git-merge-method.html-DYk2OKV6.js" as="script"><link rel="prefetch" href="/assets/git-merge-conflicts.html-DwKNufyn.js" as="script"><link rel="prefetch" href="/assets/ËÆ∞‰∏ÄÊ¨°Êó∂Âå∫ÂºÇÂ∏∏ÈóÆÈ¢òÊéíÊü•ÊÄùË∑ØÂíåËøáÁ®ã.html-CmWfuENr.js" as="script"><link rel="prefetch" href="/assets/oauth-client-server-side-apps.html-BqG3eq3Z.js" as="script"><link rel="prefetch" href="/assets/oauth-client-client-side-apps.html-Ba5djUpl.js" as="script"><link rel="prefetch" href="/assets/how-to-build-images-docker-ÈïúÂÉèËßÑËåÉ.html-BaUU0uzu.js" as="script"><link rel="prefetch" href="/assets/how-to-run-container-oci-ËøêË°åÊó∂ËßÑËåÉ.html-n5Gx9AhO.js" as="script"><link rel="prefetch" href="/assets/how-to-build-image-‰ªé-0-ÂºÄÂßãÂ∏¶‰Ω†ÂæíÊâãÊûÑÂª∫-docker-ÈïúÂÉè.html-BARpmj1F.js" as="script"><link rel="prefetch" href="/assets/how-to-run-container-ÊµÖË∞à‰ªéÈïúÂÉèÂàõÂª∫ÂÆπÂô®ÁöÑÂÆûÁé∞ÁªÜËäÇ.html-D4IBOQR2.js" as="script"><link rel="prefetch" href="/assets/how-to-build-image-ÊâãÊääÊâãÊïô‰Ω†Â¶Ç‰ΩïÊé®ÈïúÂÉèËá≥-docker-registry.html-DYyFcNhQ.js" as="script"><link rel="prefetch" href="/assets/wasm-or-container.html-DJHxnj1Z.js" as="script"><link rel="prefetch" href="/assets/c-tmp-exercise.html-BARfCn0i.js" as="script"><link rel="prefetch" href="/assets/golang-ÂÆπÊòìË¢´-k8s-ËØØÂØºÁöÑ-json-inline.html-DhTPbG7G.js" as="script"><link rel="prefetch" href="/assets/llm-Â§ßÊ®°Âûã-ÈòøÈáå‰∫ëÂÆû‰æãËØäÊñ≠-ai-ËµãËÉΩ‰∫ëËøêÁª¥ÁöÑÂÆûË∑µ‰∏éÂøÉÂæó.html-CILGm0Xq.js" as="script"><link rel="prefetch" href="/assets/pythonÂºÇÊ≠•ÂàùÊé¢-ÂçèÁ®ãÁöÑÂÆö‰πâ.html-CTETnyUI.js" as="script"><link rel="prefetch" href="/assets/python-auto-doc-for-drf.html-f-x8UoSk.js" as="script"><link rel="prefetch" href="/assets/pydantic-with-drf-yasg.html-Cng_SWIA.js" as="script"><link rel="prefetch" href="/assets/pythonÂºÇÊ≠•ËøõÈò∂-Êé¢ËÆ®ÂçèÁ®ãÂÆûÁé∞ÂºÇÊ≠•ÁöÑÁªÜËäÇ.html-PG_5q-b1.js" as="script"><link rel="prefetch" href="/assets/fastapi‰∏é‰æùËµñÊ≥®ÂÖ•Ê®°Âºè.html-Bc2dGkI-.js" as="script"><link rel="prefetch" href="/assets/bkpaas-refactor-experience.html-BHxwmEt2.js" as="script"><link rel="prefetch" href="/assets/ËÆ∞‰∏ÄÊ¨°-nginx-ingress-ÈïøËøûÊé•ÂºÇÂ∏∏Êñ≠ÂºÄÈóÆÈ¢òÂ§çÁõòËøáÁ®ã.html-DU4AqjAE.js" as="script"><link rel="prefetch" href="/assets/let-s-encrypt-ÂÆûÁé∞ÂÖ®Ëá™Âä®ÂÖçË¥π-https-ËØÅ‰π¶ÊâòÁÆ°-Ëá™Âä®Á≠æÂèë„ÄÅÁª≠Êúü.html-CrXuJSIt.js" as="script"><link rel="prefetch" href="/assets/index.html-B3wdLghI.js" as="script"><link rel="prefetch" href="/assets/how-to-build-images-docker-ÈïúÂÉèËßÑËåÉ.html-C396ZzQy.js" as="script"><link rel="prefetch" href="/assets/how-to-run-container-oci-ËøêË°åÊó∂ËßÑËåÉ.html-Da-g9mz5.js" as="script"><link rel="prefetch" href="/assets/how-to-build-image-‰ªé-0-ÂºÄÂßãÂ∏¶‰Ω†ÂæíÊâãÊûÑÂª∫-docker-ÈïúÂÉè.html-Cl1QT1Iq.js" as="script"><link rel="prefetch" href="/assets/how-to-run-container-ÊµÖË∞à‰ªéÈïúÂÉèÂàõÂª∫ÂÆπÂô®ÁöÑÂÆûÁé∞ÁªÜËäÇ.html-jvl_m0Ho.js" as="script"><link rel="prefetch" href="/assets/how-to-build-image-ÊâãÊääÊâãÊïô‰Ω†Â¶Ç‰ΩïÊé®ÈïúÂÉèËá≥-docker-registry.html-rDGc7EC3.js" as="script"><link rel="prefetch" href="/assets/404.html-CW18lcRi.js" as="script"><link rel="prefetch" href="/assets/index.html-CM7MHd4A.js" as="script"><link rel="prefetch" href="/assets/index.html-Dq3zPlfg.js" as="script"><link rel="prefetch" href="/assets/index.html-B6Q6SbpY.js" as="script"><link rel="prefetch" href="/assets/index.html-BtVR4R9w.js" as="script"><link rel="prefetch" href="/assets/index.html-6mz4_3D0.js" as="script"><link rel="prefetch" href="/assets/index.html-CfTCW2C5.js" as="script"><link rel="prefetch" href="/assets/index.html-CHZuHSPX.js" as="script"><link rel="prefetch" href="/assets/index.html-CSsQjdIk.js" as="script"><link rel="prefetch" href="/assets/index.html-B4zcpDmq.js" as="script"><link rel="prefetch" href="/assets/index.html-qFTEqwSj.js" as="script"><link rel="prefetch" href="/assets/index.html-AStGfSw7.js" as="script"><link rel="prefetch" href="/assets/index.html-CKsmPDBj.js" as="script"><link rel="prefetch" href="/assets/index.html-ZykqS0XK.js" as="script"><link rel="prefetch" href="/assets/index.html-BUvP3qW-.js" as="script"><link rel="prefetch" href="/assets/index.html-DCDrca_9.js" as="script"><link rel="prefetch" href="/assets/index.html-DWkcA6sD.js" as="script"><link rel="prefetch" href="/assets/index.html-BVzvJU9D.js" as="script"><link rel="prefetch" href="/assets/index.html-Drkb8cEt.js" as="script"><link rel="prefetch" href="/assets/index.html-D9ig1XGX.js" as="script"><link rel="prefetch" href="/assets/index.html-BVSD0YGz.js" as="script"><link rel="prefetch" href="/assets/index.html-Cg7ITXW1.js" as="script"><link rel="prefetch" href="/assets/index.html-BijFEvsz.js" as="script"><link rel="prefetch" href="/assets/index.html-mx1s1og9.js" as="script"><link rel="prefetch" href="/assets/index.html-PbOu7-91.js" as="script"><link rel="prefetch" href="/assets/index.html-CRQohOU-.js" as="script"><link rel="prefetch" href="/assets/index.html-n-68f0B3.js" as="script"><link rel="prefetch" href="/assets/index.html-CnoccxBl.js" as="script"><link rel="prefetch" href="/assets/index.html-CKJRm-Os.js" as="script"><link rel="prefetch" href="/assets/index.html-b4g5wXJW.js" as="script"><link rel="prefetch" href="/assets/index.html-D9KfxaAF.js" as="script"><link rel="prefetch" href="/assets/index.html-D0oudBAL.js" as="script"><link rel="prefetch" href="/assets/index.html-CzLIK9Gi.js" as="script"><link rel="prefetch" href="/assets/index.html-BXDlLAsx.js" as="script"><link rel="prefetch" href="/assets/index.html-CfvgfaAe.js" as="script"><link rel="prefetch" href="/assets/index.html-B9U7Tr46.js" as="script"><link rel="prefetch" href="/assets/index.html-CX9Yd5gT.js" as="script"><link rel="prefetch" href="/assets/index.html-BJ8m9IAJ.js" as="script"><link rel="prefetch" href="/assets/index.html-DoXUFUap.js" as="script"><link rel="prefetch" href="/assets/index.html-Dw42EK89.js" as="script"><link rel="prefetch" href="/assets/index.html-Ct3QL0jp.js" as="script"><link rel="prefetch" href="/assets/index.html-Dy2bhHNv.js" as="script"><link rel="prefetch" href="/assets/index.html-D09SwBFD.js" as="script"><link rel="prefetch" href="/assets/index.html-BvWBCCdB.js" as="script"><link rel="prefetch" href="/assets/index.html-1q9_MmEh.js" as="script"><link rel="prefetch" href="/assets/index.html-Caog_EPN.js" as="script"><link rel="prefetch" href="/assets/index.html-BIXa5uon.js" as="script"><link rel="prefetch" href="/assets/index.html-CM9BDE8_.js" as="script"><link rel="prefetch" href="/assets/index.html-BmwrpMbg.js" as="script"><link rel="prefetch" href="/assets/giscus-7BMGhbDA.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-SzV8tJDW.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar has-toc"><!--[--><header id="header" class="vp-header" style="background-image:url(&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNDAiIGhlaWdodD0iMjQwIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJyZ2IoODQsMTM4LDY5KSI+PC9yZWN0PjxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIzNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjA5OCIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIyNDAiIGN5PSIwIiByPSIzNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjA5OCIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIwIiBjeT0iMjQwIiByPSIzNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjA5OCIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIyNDAiIGN5PSIyNDAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMDk4IiBzdHJva2Utd2lkdGg9IjEwcHgiPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjQwIiBjeT0iMCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wNzIwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSI0MCIgY3k9IjI0MCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wNzIwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSI4MCIgY3k9IjAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMDcyMDAwMDAwMDAwMDAwMDEiIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iODAiIGN5PSIyNDAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMDcyMDAwMDAwMDAwMDAwMDEiIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMTIwIiBjeT0iMCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyMiIgb3BhY2l0eT0iMC4xMTUzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIxMjAiIGN5PSIyNDAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMTE1MzMzMzMzMzMzMzMzMzQiIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMTYwIiBjeT0iMCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4xMDY2NjY2NjY2NjY2NjY2NyIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIxNjAiIGN5PSIyNDAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMTA2NjY2NjY2NjY2NjY2NjciIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjAwIiBjeT0iMCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wMzczMzMzMzMzMzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIyMDAiIGN5PSIyNDAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMDM3MzMzMzMzMzMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMCIgY3k9IjQwIiByPSIzNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjE1IiBzdHJva2Utd2lkdGg9IjEwcHgiPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjI0MCIgY3k9IjQwIiByPSIzNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjE1IiBzdHJva2Utd2lkdGg9IjEwcHgiPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjQwIiBjeT0iNDAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMDU0NjY2NjY2NjY2NjY2NjciIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iODAiIGN5PSI0MCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyMiIgb3BhY2l0eT0iMC4wODA2NjY2NjY2NjY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIxMjAiIGN5PSI0MCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wMiIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIxNjAiIGN5PSI0MCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wODkzMzMzMzMzMzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIyMDAiIGN5PSI0MCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIwIiBjeT0iODAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMDU0NjY2NjY2NjY2NjY2NjciIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjQwIiBjeT0iODAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMDU0NjY2NjY2NjY2NjY2NjciIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iNDAiIGN5PSI4MCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wODkzMzMzMzMzMzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSI4MCIgY3k9IjgwIiByPSIzNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjExNTMzMzMzMzMzMzMzMzM0IiBzdHJva2Utd2lkdGg9IjEwcHgiPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyMCIgY3k9IjgwIiByPSIzNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjA1NDY2NjY2NjY2NjY2NjY3IiBzdHJva2Utd2lkdGg9IjEwcHgiPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjE2MCIgY3k9IjgwIiByPSIzNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjA3MjAwMDAwMDAwMDAwMDAxIiBzdHJva2Utd2lkdGg9IjEwcHgiPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjIwMCIgY3k9IjgwIiByPSIzNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjA5OCIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIwIiBjeT0iMTIwIiByPSIzNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjA4MDY2NjY2NjY2NjY2NjY2IiBzdHJva2Utd2lkdGg9IjEwcHgiPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjI0MCIgY3k9IjEyMCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyMiIgb3BhY2l0eT0iMC4wODA2NjY2NjY2NjY2NjY2NiIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSI0MCIgY3k9IjEyMCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wMzczMzMzMzMzMzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSI4MCIgY3k9IjEyMCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyMiIgb3BhY2l0eT0iMC4xNSIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIxMjAiIGN5PSIxMjAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMDYzMzMzMzMzMzMzMzMzMzQiIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMTYwIiBjeT0iMTIwIiByPSIzNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjA5OCIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIyMDAiIGN5PSIxMjAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMTI0MDAwMDAwMDAwMDAwMDEiIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMCIgY3k9IjE2MCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIyNDAiIGN5PSIxNjAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMTI0MDAwMDAwMDAwMDAwMDEiIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iNDAiIGN5PSIxNjAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMTA2NjY2NjY2NjY2NjY2NjciIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iODAiIGN5PSIxNjAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMTE1MzMzMzMzMzMzMzMzMzQiIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMTIwIiBjeT0iMTYwIiByPSIzNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjIyIiBvcGFjaXR5PSIwLjA4MDY2NjY2NjY2NjY2NjY2IiBzdHJva2Utd2lkdGg9IjEwcHgiPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjE2MCIgY3k9IjE2MCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2RkZCIgb3BhY2l0eT0iMC4wNzIwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIyMDAiIGN5PSIxNjAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMTUiIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMCIgY3k9IjIwMCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyMiIgb3BhY2l0eT0iMC4xMTUzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIyNDAiIGN5PSIyMDAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMTE1MzMzMzMzMzMzMzMzMzQiIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iNDAiIGN5PSIyMDAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMTMyNjY2NjY2NjY2NjY2NjUiIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iODAiIGN5PSIyMDAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiNkZGQiIG9wYWNpdHk9IjAuMDIiIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMTIwIiBjeT0iMjAwIiByPSIzNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZGRkIiBvcGFjaXR5PSIwLjEwNjY2NjY2NjY2NjY2NjY3IiBzdHJva2Utd2lkdGg9IjEwcHgiPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjE2MCIgY3k9IjIwMCIgcj0iMzUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzIyMiIgb3BhY2l0eT0iMC4wNjMzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlLXdpZHRoPSIxMHB4Ij48L2NpcmNsZT48Y2lyY2xlIGN4PSIyMDAiIGN5PSIyMDAiIHI9IjM1IiBmaWxsPSJub25lIiBzdHJva2U9IiMyMjIiIG9wYWNpdHk9IjAuMTUiIHN0cm9rZS13aWR0aD0iMTBweCI+PC9jaXJjbGU+PC9zdmc+&quot;);"><div class="vp-navbar-container"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/en/"><img class="vp-nav-logo" src="/img/avatar.png" alt><!----><span class="vp-site-name hide-in-pad">Personal technical article sharing</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/en/" aria-label="Home"><span class="font-icon icon home" style=""></span>Home<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/en/article/" aria-label="Articles"><span class="font-icon icon book" style=""></span>Articles<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/en/resume/" aria-label="About Me"><span class="font-icon icon circle-question" style=""></span>About Me<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button type="button" class="dropdown-title" aria-label="Select language"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/posts/2023/01/08/wasm-or-container.html" aria-label="ÁÆÄ‰Ωì‰∏≠Êñá"><!---->ÁÆÄ‰Ωì‰∏≠Êñá<!----></a></li><li class="dropdown-item"><a class="route-link nav-link active" href="/en/posts/2023/01/08/wasm-or-container.html" aria-label="English"><!---->English<!----></a></li></ul></button></div></div><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/shabbywu/blog" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></div><div class="banner"><h1 class="text">Webassembly - Will the next generation container runtime?</h1></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><div><!--[--><div class="blog-page"><main id="main-content" class="blog-main"><div class="blog-post custom"><section class="post-meta main-div"><div class="post-date"><span>Writing DateÔºö</span> <span class="page-date-info" aria-label="Writing DateüìÖ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-01-08T00:00:00.000Z"></span></div><div class="post-links"><a href="/en/posts/2021/12/05/how-to-build-image-%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E5%A6%82%E4%BD%95%E6%8E%A8%E9%95%9C%E5%83%8F%E8%87%B3-docker-registry.html" class=""><span>Ôºö</span><span>How To Build Images: Step-by-step guide you to access Docker Registry</span></a></div><!--v-if--></section><article class="blog-post-content main-div"><div class="vp-page-title"><h1><!---->Webassembly - Will the next generation container runtime?</h1><div class="page-info"><span class="page-author-info" aria-label="Authorüñä" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/shabbywu" target="_blank" rel="noopener noreferrer">shabbywu</a></span><span property="author" content="shabbywu"></span></span><!----><span class="page-date-info" aria-label="Writing DateüìÖ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-01-08T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time‚åõ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 7 min</span><meta property="timeRequired" content="PT7M"></span><span class="page-category-info" aria-label="Categoryüåà" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category0 clickable" role="navigation">Container Technology</span><!--]--><meta property="articleSection" content="Container Technology"></span><!----></div><hr></div><div class="theme-hope-content" id="markdown-content"><h2 id="preface" tabindex="-1"><a class="header-anchor" href="#preface"><span>Preface</span></a></h2><p>On March 20, 2013, DotCloud released the first version of Docker, marking the beginning of the era of containerization. Now, in the age of containerization, whether it&#39;s development, testing, or operations, few people are unaware of or do not know how to use Docker. Over the past decade since Docker&#39;s release, open source collaboration has propelled containerization technology to great heights. Despite rapid iteration of containerization products, the core of container technology has always revolved around Linux. Whenever we mention containers, we are essentially referring to runtime implementations based on the Linux Kernel.</p><p>Today, besides Linux containers, there are many other container runtime implementations, such as <a href="https://github.com/kata-containers/kata-containers" target="_blank" rel="noopener noreferrer">Kata Containers<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and <a href="https://github.com/google/gvisor" target="_blank" rel="noopener noreferrer">gVisor<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. So, who might be the next generation runtime implementation? -- It&#39;s quite likely to be WebAssembly.</p><p>This article will introduce what WebAssembly is, why it has the potential to become the next generation runtime implementation, and demonstrate the differences between WebAssembly containers and conventional Linux containers.</p><div class="hint-container tip"><p class="hint-container-title">Further Reading: What are Containers?</p><p>A <strong>container image</strong> is a lightweight, standalone, executable <strong>software package</strong>. When <strong>applications</strong> are packaged as container images for delivery, regardless of the underlying infrastructure (Linux or Windows; ARM or X86), they will always run in the same way.</p><p><strong>Containers</strong> provide a technology for quickly and reliably running <strong>applications</strong> from one computing environment to another. Containers are a form of Software as a Service (SaaS).</p></div><h2 id="what-is-webassembly-aka-wasm" tabindex="-1"><a class="header-anchor" href="#what-is-webassembly-aka-wasm"><span>What is WebAssembly (aka Wasm)</span></a></h2><p>WebAssembly is a secure, portable, low-level (similar to assembly) programming language (or binary instruction format, akin to assembly) designed to be executed in a stack-based virtual machine. Wasm is designed as a portable compilation target for programming languages, with the primary aim of achieving high performance applications on the Web.</p><h2 id="hello-wasm" tabindex="-1"><a class="header-anchor" href="#hello-wasm"><span>Hello Wasm</span></a></h2><p>We&#39;ll quickly understand what a Wasm program is through a simple Hello World Demo.</p><h3 id="source-language-rust" tabindex="-1"><a class="header-anchor" href="#source-language-rust"><span>Source Language: Rust</span></a></h3><p>WebAssembly is a portable compilation target for programming languages, thus requiring compilation from another language. A common source language is Rust. Below is the simplest example of a Hello World sample code based on Rust:</p><div class="language-rust line-numbers-mode" data-ext="rs" data-title="rs"><pre class="language-rust"><code>// file: hello.rs
fn main() {
  println!(&quot;Hello Wasm&quot;);
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Due to Rust&#39;s conventions, it&#39;s also necessary to write a <code>Cargo.toml</code> file in order to compile the code.</p><div class="language-toml line-numbers-mode" data-ext="toml" data-title="toml"><pre class="language-toml"><code>## file: Cargo.toml
[package]
name = &quot;hello&quot;
version = &quot;0.0.1&quot;

[[bin]]
name = &quot;hello&quot;
path = &quot;hello.rs&quot;

[dependencies]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Les&#39;s run hello.rs</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>‚ùØ cargo run
   Compiling hello v0.0.1
    Finished dev [unoptimized + debuginfo] target(s) in 0.26s
     Running `target/debug/hello`
Hello Wasm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="compiling-wasm" tabindex="-1"><a class="header-anchor" href="#compiling-wasm"><span>Compiling Wasm</span></a></h3><p>By default, Rust compiles into executable files. We need to specify additional compilation parameters to compile into Wasm.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>## Install compilation dependencies
‚ùØ rustup target add wasm32-wasi
info: downloading component &#39;rust-std&#39; for &#39;wasm32-wasi&#39;
info: installing component &#39;rust-std&#39; for &#39;wasm32-wasi&#39;

## Compile into Wasm
‚ùØ rustc hello.rs --target wasm32-wasi

## Compile to generate hello.wasm
‚ùØ ls -lah hello.wasm
-rwxr-xr-x  1 shabbywu  staff   2.1M  1  8 16:04 hello.wasm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="execution" tabindex="-1"><a class="header-anchor" href="#execution"><span>Execution</span></a></h3><p>WebAssembly is a binary instruction format for stack-based virtual machines and requires a WebAssembly virtual machine to execute Wasm. Common major browser engines (such as Chrome, Edge, Firefox, and Safari) all support executing Wasm. However, to execute in the terminal, you need to install a Wasm runtime first. Here are popular Wasm runtime implementations:</p><ul><li><a href="https://wasmtime.dev/" target="_blank" rel="noopener noreferrer">Wasmtime<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, a fast, secure WebAssembly runtime developed by the Bytecode Alliance.</li><li><a href="https://github.com/bytecodealliance/wasm-micro-runtime" target="_blank" rel="noopener noreferrer">WAMR<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, a lightweight WebAssembly runtime developed by the Bytecode Alliance, suitable for embedded, IoT, edge computing, smart devices, and other scenarios.</li><li><a href="https://wasmer.io/" target="_blank" rel="noopener noreferrer">Wasmer<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, offering ultra-lightweight containers based on WebAssembly that can run anywhere: from desktop to cloud, IoT devices, and can also be embedded into any programming language.</li><li><a href="https://github.com/wasm3/wasm3" target="_blank" rel="noopener noreferrer">Wasm3<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, the fastest WebAssembly <strong>interpreter</strong>, and the most universal Wasm runtime.</li><li><a href="https://wasmedge.org/" target="_blank" rel="noopener noreferrer">WasmEdge<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, a lightweight, high-performance, and scalable WebAssembly runtime suitable for cloud-native, edge, and decentralized applications. It supports serverless applications, embedded functions, microservices, smart contracts, and IoT devices.</li></ul><p>We&#39;ll demonstrate executing Wasm using Wasmer, which has the highest number of stars.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>## Install Wasmer
‚ùØ curl https://get.wasmer.io -sSfL | sh

## Execute hello.wasm
‚ùØ wasmer run hello.wasm
Hello Wasm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="why-is-webassembly-said-to-have-the-potential-to-become-the-next-generation-runtime-implementation" tabindex="-1"><a class="header-anchor" href="#why-is-webassembly-said-to-have-the-potential-to-become-the-next-generation-runtime-implementation"><span>Why is WebAssembly said to have the potential to become the next generation runtime implementation?</span></a></h2><p>WebAssembly&#39;s features make it full of possibilities:</p><ul><li><strong>Standard</strong>: WebAssembly is designed to be versionless, feature-testable, and backward-compatible. Major browsers have already implemented the initial version of the WebAssembly specification.</li><li><strong>Fast</strong>: It can provide near-native speed through Just-In-Time (JIT) or Ahead-Of-Time (AOT) compilation capabilities of most runtimes. Unlike starting a VM or a container, it doesn&#39;t have cold starts.</li><li><strong>Secure</strong>: By default, WebAssembly runtimes are sandboxed, allowing secure memory access. A capability-based model ensures that WebAssembly applications can only access explicitly allowed content, making the software supply chain more secure.</li><li><strong>Portable</strong>: The binary format of WebAssembly is designed to execute efficiently on different operating systems (currently supporting Linux, Windows, macOS, Android, and even embedded devices) and instruction sets (currently supporting x86, ARM, RISC-V, etc.).</li><li><strong>High Performance</strong>: WebAssembly requires minimal memory footprint and ultra-low CPU thresholds to run.</li><li><strong>Multi-Language Support</strong>: <a href="https://github.com/appcypher/awesome-wasm-langs" target="_blank" rel="noopener noreferrer">Several programming languages<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> can compile to WebAssembly.</li></ul><h3 id="webassembly-transitioning-from-browser-to-server-side" tabindex="-1"><a class="header-anchor" href="#webassembly-transitioning-from-browser-to-server-side"><span>WebAssembly Transitioning from Browser to Server-side</span></a></h3><p>WebAssembly originated in the browser, primarily to complement JavaScript&#39;s shortcomings in execution performance. However, WebAssembly is not meant to replace JavaScript but rather to provide the capability to execute large applications in the browser&#39;s (sandboxed) environment.</p><p>WebAssembly relies on a virtual machine for execution, and the ability of browser engines to run WebAssembly programs is due to their integration of WebAssembly virtual machines. If the WebAssembly virtual machine is separated and run independently, then we can execute WebAssembly programs outside the browser. Unlike the browser execution environment, server-side programs need to interact with external environments (such as file systems, networks, etc.). Since WebAssembly is designed to execute in a secure sandboxed environment, interacting with the external environment introduces potential security risks. Therefore, WebAssembly has proposed <a href="https://github.com/WebAssembly/WASI/blob/main/phases/snapshot/docs.md" target="_blank" rel="noopener noreferrer">WASI (WebAssembly System Interface)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, which describes the operation interfaces supported by WebAssembly programs.</p><blockquote><p>WASI is implemented by WebAssembly runtimes, for example, <a href="https://github.com/bytecodealliance/wasmtime/blob/main/crates/wasi-common/src/snapshots/preview_1.rs#L596" target="_blank" rel="noopener noreferrer">fd_readdir<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> is the implementation of the directory reading interface in <a href="https://wasmtime.dev/" target="_blank" rel="noopener noreferrer">Wasmtime<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p></blockquote><p>As developers, we don&#39;t need to concern ourselves with the specific implementation of the WebAssembly virtual machine; we only need to compile the application into WebAssembly binary instructions to execute it on any server. <img src="/img/Wasm-work-on-servers.png" alt="The principle of running WebAssembly on servers" loading="lazy"></p><h3 id="impact-of-webassembly-on-software-delivery" tabindex="-1"><a class="header-anchor" href="#impact-of-webassembly-on-software-delivery"><span>Impact of WebAssembly on Software Delivery</span></a></h3><p>In the era of containerization, containers have become the de facto standard for software delivery, with virtually all software providing container deployment solutions.</p><p>To standardize container lifecycle management and delivery media, the Open Container Initiative (OCI) proposed <a href="https://github.com/opencontainers/runtime-spec/blob/main/principles.md" target="_blank" rel="noopener noreferrer">5 principles that containers need to adhere to<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. WebAssembly essentially aligns with these principles:</p><ul><li><strong>Standard operations</strong>: Wasm defines the main function as the primary entry point, and the Wasm virtual machine executes the main function to start the Wasm program.</li><li><strong>Content-agnostic</strong>: Wasm is delivered as a binary file after compilation, naturally independent of content.</li><li><strong>Infrastructure-agnostic</strong>: Wasm relies on a stack-based virtual machine, and the virtual machine implementation does not depend on the infrastructure.</li><li><strong>Industrial-grade delivery</strong>: Wasm is compiled once and executed everywhere. Wasm does not need to concern itself with software delivery issues.</li><li>‚ùå <strong>Designed for automation</strong>: While Wasm does not concern itself with automated deployment, it does not hinder Wasm containerization. However, there is still a lack of standard processes and toolchains (similar to Dockerfile and Docker CLI) at present.</li></ul><p>The characteristics of WebAssembly naturally support containerization. <em>If all applications are compiled into Wasm for delivery</em>, it means that we only need to complete a series of packaging operations to automatically deploy Wasm programs to all servers. For this reason, Solomon Hykes (the founder of Docker) even proposed that WASM+WASI would be the next development direction for server software infrastructure.</p><div class="hint-container warning"><p class="hint-container-title">[Tweet from Solomon Hykes (Founder of Docker)]((https://twitter.com/solomonstre/status/1111004913222324225))</p><p>&quot;If WASM+WASI existed in 2008, we wouldn&#39;t have needed to created Docker. That&#39;s how important it is. Webassembly on the server is the future of computing. A standardized system interface was the missing link. Let&#39;s hope WASI is up to the task!&quot; -- Solomon Hykes, creator of Docker</p></div><p>Indeed, if the operating system integrates a Wasm virtual machine (similar to browsers), and <em>if all applications are compiled into Wasm</em>, then we don&#39;t need &quot;Linux containers&quot; at all. We don&#39;t need to virtualize a complete layer of Linux operating systems; we only need a Wasm virtual machine to achieve &quot;containerized deployment&quot; of Wasm programs.</p><h2 id="containerizing-webassembly" tabindex="-1"><a class="header-anchor" href="#containerizing-webassembly"><span>Containerizing WebAssembly</span></a></h2><p>Docker announced on October 24, 2022, that it will support running Wasm containers as a Beta feature in Docker Desktop 4.15! As mentioned earlier, Wasm is a faster, lighter alternative to Linux/Windows containers. This section will demonstrate the differences between Wasm containers and conventional Linux containers, including building Wasm images, running Wasm containers, and comparing them with native execution. <img src="/img/Docker+Wasm.png" alt="Docker+Wasm" loading="lazy"></p><h3 id="building-and-running-wasm-images" tabindex="-1"><a class="header-anchor" href="#building-and-running-wasm-images"><span>Building and Running Wasm Images</span></a></h3><p>We know that for compiled languages, the final output is a .wasm file, making building images trivial. To raise the challenge, we&#39;ll use an interpreted language, <a href="https://github.com/python/cpython" target="_blank" rel="noopener noreferrer">CPython<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, for this demonstration.</p><p>Unlike compiled languages like C and Rust, for interpreted languages like Python and Ruby, we need to compile their interpreters into Wasm. Once the interpreter is compiled into Wasm, any Wasm virtual machine can run these interpreted languages.</p><p>In theory, this works, but since WASI does not provide complete POSIX compatibility, modifying some source code is required when compiling CPython. The open-source project <a href="https://github.com/singlestore-labs/python-wasi.git" target="_blank" rel="noopener noreferrer">python-wasi<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> has completed this experiment, allowing CPython to be compiled into Wasm with the help of this project.</p><h4 id="_0-Êï¥ÁêÜÈ°πÁõÆÁªìÊûÑ" tabindex="-1"><a class="header-anchor" href="#_0-Êï¥ÁêÜÈ°πÁõÆÁªìÊûÑ"><span>0. Êï¥ÁêÜÈ°πÁõÆÁªìÊûÑ</span></a></h4><p>For the convenience of description, we assume that the project structure conforms to the following directory tree. See above for details.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>.
‚îú‚îÄ‚îÄ build.sh
‚îî‚îÄ‚îÄ src
    ‚îú‚îÄ‚îÄ main.py
    |‚îÄ‚îÄ [cpython](https://github.com/python/cpython/archive/refs/tags/v3.11.1.tar.gz)
    ‚îî‚îÄ‚îÄ [python-wasi](https://github.com/singlestore-labs/python-wasi)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Among them, the content of main.py is as follows:</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>import os
## Print environment variables to test security
for k, v in os.environ.items():
  print(f&quot;{k}={v}&quot;)

print(&quot;------&quot;)
print(&quot;Hello World&quot;)
print(&quot;------&quot;)
print(os.listdir())
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-write-the-buildah-build-script" tabindex="-1"><a class="header-anchor" href="#_1-write-the-buildah-build-script"><span>1. Write the buildah build script</span></a></h4><p>Currently, Docker Engine does not support building Wasm images, so you need to use buildah to build the image. Since CPython needs to be compiled into wasm, you need to use a multi-stage build.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>## build.sh
### python-wasi-builder
buildah from --format=docker --name python-wasi-builder docker.io/435495971/python-wasi-builder
buildah copy python-wasi-builder src/python-wasi .
buildah copy python-wasi-builder src/cpython cpython
buildah run -e WASMTIME_HOME=/root/.wasmtime -e WASI_SDK_PATH=/opt/wasi-sdk -e WASMTIME_BACKTRACE_DETAILS=1 -e PATH=/root/.wasmtime/bin:/opt/wasi-sdk/bin:/root/.wasmer/bin:/opt/wabt/build:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin python-wasi-builder /bin/bash run.sh

### wasm image
buildah from --name wasm-cpython scratch
buildah copy --from python-wasi-builder wasm-cpython wasi-python3.11.wasm /python3.wasm
buildah copy wasm-cpython src/main.py main.py 
buildah config --annotation &quot;module.wasm.image/variant=compat&quot; --entrypoint &#39;[&quot;python3.wasm&quot;, &quot;main.py&quot;]&#39; --os wasi --arch wasm32 wasm-cpython
buildah commit wasm-cpython docker.io/435495971/wasm-cpython
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For ease of reading, the above build.sh is equivalent to the following Dockerfile</p><div class="language-docker line-numbers-mode" data-ext="docker" data-title="docker"><pre class="language-docker"><code>FROM docker.io/435495971/python-wasi-builder as build
COPY src/python-wasi .
COPY src/cpython cpython
SHELL [&quot;/bin/bash&quot;, &quot;-c&quot;] 
ENV WASMTIME_HOME=/root/.wasmtime
ENV WASI_SDK_PATH=/opt/wasi-sdk
ENV WASMTIME_BACKTRACE_DETAILS=1
ENV PATH=/root/.wasmtime/bin:/opt/wasi-sdk/bin:/root/.wasmer/bin:/opt/wabt/build:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
RUN ./run.sh

FROM scratch
COPY --from=build wasi-python3.11.wasm /python3.wasm
COPY src/main.py main.py
ENTRYPOINT [ &quot;python3.wasm&quot;, &quot;main.py&quot;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-build-and-upload-the-image" tabindex="-1"><a class="header-anchor" href="#_2-build-and-upload-the-image"><span>2. Build and upload the image</span></a></h4><p>When building the image, you need to specify the platform architecture as <code>wasi/wasm32</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>## Build image
‚ùØ chmod +x build.sh
‚ùØ ./build.sh
‚ùØ buildah push docker.io/435495971/wasm-cpython
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-run-image" tabindex="-1"><a class="header-anchor" href="#_3-run-image"><span>3. Run image</span></a></h4><p>Running <code>wasi/wasm32</code> requires specifying the platform architecture as <code>wasi/wasm32</code> and the runtime as <code>io.containerd.wasmedge.v1</code>. Due to the unstable nature of the WASI protocol, currently only wasmtime can run wasm-cpython. Therefore, we can only use <a href="https://github.com/containerd/runwasi" target="_blank" rel="noopener noreferrer">runwasi<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to run Wasm containers.</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>‚ùØ ctr run --rm \
  --runtime=io.containerd.wasmtime.v1 \
  docker.io/435495971/wasm-cpython:latest \
  testwasm

PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
------
Hello World
------
[&#39;main.py&#39;, &#39;python3.wasm&#39;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="native-vs-wasm" tabindex="-1"><a class="header-anchor" href="#native-vs-wasm"><span>Native vs. Wasm</span></a></h3><p>Now, let&#39;s compare the execution of <strong>native Linux Containers</strong> with Wasm execution. The control group will use the following Dockerfile for construction.</p><div class="language-docker line-numbers-mode" data-ext="docker" data-title="docker"><pre class="language-docker"><code>FROM python:3.11.1
COPY main.py main.py
ENTRYPOINT [&quot;python&quot;, &quot;main.py&quot;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The following is the output of building the image execution:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>## docker run -it --rm raw-example 
PATH=/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
HOSTNAME=ab16d4f1dbe1
TERM=xterm
LANG=C.UTF-8
GPG_KEY=A035C8C19219BA821ECEA86B64E628F8D684696D
PYTHON_VERSION=3.11.1
PYTHON_PIP_VERSION=22.3.1
PYTHON_SETUPTOOLS_VERSION=65.5.1
PYTHON_GET_PIP_URL=https://github.com/pypa/get-pip/raw/66030fa03382b4914d4c4d0896961a0bdeeeb274/public/get-pip.py
PYTHON_GET_PIP_SHA256=1e501cf004eac1b7eb1f97266d28f995ae835d30250bec7f8850562703067dc6
HOME=/root
------
Hello World
------
[&#39;mnt&#39;, &#39;home&#39;, &#39;var&#39;, &#39;run&#39;, &#39;boot&#39;, &#39;srv&#39;, &#39;tmp&#39;, &#39;sbin&#39;, &#39;media&#39;, &#39;dev&#39;, &#39;bin&#39;, &#39;lib&#39;, &#39;root&#39;, &#39;opt&#39;, &#39;etc&#39;, &#39;sys&#39;, &#39;usr&#39;, &#39;lib64&#39;, &#39;proc&#39;, &#39;.dockerenv&#39;, &#39;main.py&#39;]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>From the control experiment, it can be observed that Wasm containers output fewer environment variables, which is a result of Wasm&#39;s security features. Unless explicitly declared, Wasm programs cannot access any additional environment variables. Additionally, since Wasm is compiled without external linking dependencies, the contents of the container are more concise.</p><h2 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h2><p>This article first introduces what WebAssembly is and why WebAssembly has the potential to become the next generation runtime implementation. Finally, it shows how to build a WebAssembly container, and briefly compares the running differences between WebAssembly containers and Linux containers.</p></div></article><section class="post-meta main-div"><div class="post-date"><span>Writing DateÔºö</span> <span class="page-date-info" aria-label="Writing DateüìÖ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-01-08T00:00:00.000Z"></span></div><div class="post-links"><a href="/en/posts/2021/12/05/how-to-build-image-%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E5%A6%82%E4%BD%95%E6%8E%A8%E9%95%9C%E5%83%8F%E8%87%B3-docker-registry.html"><span>Ôºö</span><span>How To Build Images: Step-by-step guide you to access Docker Registry</span></a></div><!--v-if--></section><div id="comment" class="giscus-wrapper input-top blog-post-comments" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div></div></main><aside class="blog-aside"><div class="vp-blogger-info main-div" vocab="https://schema.org/" typeof="Person"><div class="vp-blogger" style="cursor:pointer;" aria-label="Personal Intro" data-balloon-pos="down" role="link"><div class="vp-blogger-header"><img class="vp-blogger-avatar round" src="/img/avatar.png" property="image" alt="Blogger Avatar" loading="lazy"></div><div class="vp-blogger-name" property="name">shabbywu</div><div class="vp-blogger-description">Fullstack programer</div><meta property="url" content="/en/resume/"></div><div class="vp-blog-counts"><a class="route-link vp-blog-count" href="/en/article/"><div class="count">7</div><div>Articles</div></a><a class="route-link vp-blog-count" href="/en/category/"><div class="count">1</div><div>Category</div></a><a class="route-link vp-blog-count" href="/en/tag/"><div class="count">5</div><div>Tag</div></a><a class="route-link vp-blog-count" href="/en/timeline/"><div class="count">6</div><div>Timeline</div></a></div><div class="vp-social-medias"><a class="vp-social-media" href="mailto:shabbywu@qq.com" rel="noopener noreferrer" target="_blank" aria-label="Email" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon email-icon" viewBox="0 0 1024 1024"><circle cx="512" cy="512" r="512" fill="#1384FF"/><path fill="#fff" d="M270.077 286.233H751.99c32.933 0 59.86 24.855 60.274 55.51l-301.023 157L210.217 341.88c.207-30.723 26.927-55.717 59.86-55.717zm-59.929 115.714-.276 277.756c0 30.931 27.134 56.2 60.205 56.2H751.99c33.14 0 60.274-25.269 60.274-56.2V401.81L518.283 551.492a15.88 15.88 0 0 1-14.43 0L210.148 401.947z"/></svg></a><a class="vp-social-media" href="https://github.com/shabbywu" rel="noopener noreferrer" target="_blank" aria-label="GitHub" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024"><circle cx="512" cy="512" r="512" fill="#171515"/><path fill="#fff" d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z"/></svg></a><a class="vp-social-media" href="/feed.json" rel="noopener noreferrer" target="_blank" aria-label="Rss" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon rss-icon" viewBox="0 0 1024 1024"><circle cx="512" cy="512" r="512" fill="#FD9B00"/><path fill="#fff" d="M687.981 740.39c0-225.92-183.617-409.777-409.21-409.777v-97.205c279.353 0 506.617 227.506 506.617 506.98H687.98zm-74.841 0h-97.538c0-63.567-24.688-123.245-69.43-167.993-44.762-44.856-104.24-69.556-167.54-69.556v-97.176c184.44 0 334.508 150.046 334.508 334.725zM346.038 605.166c37.35 0 67.514 30.357 67.514 67.39 0 37.146-30.163 67.177-67.514 67.177-37.219 0-67.458-30.03-67.458-67.176 0-37.034 30.24-67.391 67.458-67.391z"/></svg></a></div></div><section class="main-div sticky"><div class="toc-place-holder"><aside id="toc"><!----><div class="toc-header">On This Page<button type="button" class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#preface">Preface</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#what-is-webassembly-aka-wasm">What is WebAssembly (aka Wasm)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#hello-wasm">Hello Wasm</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#source-language-rust">Source Language: Rust</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#compiling-wasm">Compiling Wasm</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#execution">Execution</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#why-is-webassembly-said-to-have-the-potential-to-become-the-next-generation-runtime-implementation">Why is WebAssembly said to have the potential to become the next generation runtime implementation?</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#webassembly-transitioning-from-browser-to-server-side">WebAssembly Transitioning from Browser to Server-side</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#impact-of-webassembly-on-software-delivery">Impact of WebAssembly on Software Delivery</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#containerizing-webassembly">Containerizing WebAssembly</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#building-and-running-wasm-images">Building and Running Wasm Images</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level3" href="/#native-vs-wasm">Native vs. Wasm</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="route-link toc-link level2" href="/#conclusion">Conclusion</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><div class="toc-comment"><a href="#comment"><span class="font-icon icon comment" style=""></span> </a></div><!--]--></aside></div></section></aside></div><!--]--></div><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer"><a href="http://beian.miit.gov.cn" target="_blank">Á≤§ICPÂ§á2021176883Âè∑</a></div><div class="vp-copyright"><a href="https://github.com/shabbywu/" target="_blank">shabbywu</a> ¬© 2019-2026</div></footer></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-C9ZkQdtL.js" defer></script>
  </body>
</html>
